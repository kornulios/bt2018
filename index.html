<html>

<head>
  <script src="./node_modules/axios/dist/axios.js"></script>
  <script src="js/view.js"></script>
  <script src="js/data.js"></script>
  <script src="js/result.js"></script>
  <script src="js/track.js"></script>
  <script src="js/player.js"></script>
  <script src="js/race.js"></script>
  <script src="js/championship.js"></script>
  <script src="js/game.js"></script>

  <link rel="stylesheet" href="css/style.css">

</head>

<body>
  <script>
    //main game object
    var game;
    var tNow;

    document.addEventListener('DOMContentLoaded', function (e) {
      console.log('up and running');
      game = new Game();

      initEvents();
      // game.view.drawOnCanvas();
    });

    function initEvents() {
      var startButton = document.getElementById('start-btn');
      startButton.addEventListener('click', game.startNewChampionship.bind(game));
      document.getElementById('run-btn').addEventListener('click', game.runGame.bind(game));
      document.getElementById('next-btn').addEventListener('click', game.prepareNextRace.bind(game));
      document.getElementById('finish-btn').addEventListener('click', game.mainScreen.bind(game));
      document.getElementById('calculate-btn').addEventListener('click', game.calculateRace.bind(game));
    }
  </script>

  <div class='gray-back'>

    <div id="controls">
      <button id="start-btn">Start game</button>
      <button id="next-btn" class="hidden">Next race</button>
      <button id="run-btn" class="hidden">Run</button>
      <button id="finish-btn" class="hidden">Finish</button>
      <!-- <button>Pause</button> -->
      <!-- <span>Speed: </span> -->
      <!-- <button id="speed-normal" class="btn-ctrl">></button> -->
      <!-- <button id="speed-fast" class="btn-ctrl">>></button> -->
      <button id="calculate-btn">Calculate race</button>
    </div>
    <div class="cls-team">
      <select id="team-select" disabled>
        <option value="none">Team select...</option>
      </select>
    </div>
  </div>
  <div id="track-info"></div>
  <div id="main-view"></div>
  <div id="results-view"></div>
  <!-- <canvas id="main-canvas"></canvas> -->
</body>

</html>