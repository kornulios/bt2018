/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is not neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./js/App.js":
/*!*******************!*\
  !*** ./js/App.js ***!
  \*******************/
/*! namespace exports */
/*! exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _game_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./game.js */ \"./js/game.js\");\n\nvar game = new _game_js__WEBPACK_IMPORTED_MODULE_0__.Game();\n\nvar initEvents = function initEvents() {\n  document.querySelector(\"#start-race\").addEventListener(\"click\", game.onStartRaceClick.bind(game)); // document\n  //   .querySelector(\"#race-indi\")\n  //   .addEventListener(\"click\", game.simulateSprint.bind(game));\n  // document\n  //   .querySelector(\"#race-relay\")\n  //   .addEventListener(\"click\", game.simulateRelay.bind(game));\n  // document\n  //   .querySelector(\"#race-mass\")\n  //   .addEventListener(\"click\", game.simulatePlayer.bind(game));\n\n  document.querySelector(\"#champ-races\").addEventListener(\"click\", game.showChampionshipStandings.bind(game));\n  document.querySelector(\"#pause\").addEventListener(\"click\", game.pauseGame.bind(game));\n  document.querySelector(\"#skip-race\").addEventListener(\"click\", game.onSimulateRaceClick.bind(game));\n  document.querySelector(\"#results-controls\").addEventListener(\"click\", game.onResultSelect.bind(game));\n  document.querySelector(\"#results-paging\").addEventListener(\"click\", game.onResultPageSelect.bind(game));\n};\n\ndocument.addEventListener(\"DOMContentLoaded\", initEvents); //champ-standings\n\n//# sourceURL=webpack://bt2018/./js/App.js?");

/***/ }),

/***/ "./js/constants/constants.js":
/*!***********************************!*\
  !*** ./js/constants/constants.js ***!
  \***********************************/
/*! namespace exports */
/*! export AI_BEHAVIOUR [provided] [no usage info] [missing usage info prevents renaming] */
/*! export AI_PLAYER_RUN_STATUS [provided] [no usage info] [missing usage info prevents renaming] */
/*! export BASE_SPEED_MOD [provided] [no usage info] [missing usage info prevents renaming] */
/*! export GENDER [provided] [no usage info] [missing usage info prevents renaming] */
/*! export MASS_START_POINTS_MAP [provided] [no usage info] [missing usage info prevents renaming] */
/*! export NATION_POINTS_MAP [provided] [no usage info] [missing usage info prevents renaming] */
/*! export PENALTY_LAP_LENGTH [provided] [no usage info] [missing usage info prevents renaming] */
/*! export PENALTY_MINUTE [provided] [no usage info] [missing usage info prevents renaming] */
/*! export PENALTY_TYPE [provided] [no usage info] [missing usage info prevents renaming] */
/*! export PLAYER_STATUS [provided] [no usage info] [missing usage info prevents renaming] */
/*! export PURSUIT_PLAYERS_NUM [provided] [no usage info] [missing usage info prevents renaming] */
/*! export RACE_POINTS_MAP [provided] [no usage info] [missing usage info prevents renaming] */
/*! export RACE_START_TYPE [provided] [no usage info] [missing usage info prevents renaming] */
/*! export RACE_STATUS [provided] [no usage info] [missing usage info prevents renaming] */
/*! export RELAY_POINTS_MAP [provided] [no usage info] [missing usage info prevents renaming] */
/*! export SHOOTING_DELAY [provided] [no usage info] [missing usage info prevents renaming] */
/*! export START_TIME_INTERVAL [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PENALTY_TYPE\": () => /* binding */ PENALTY_TYPE,\n/* harmony export */   \"RACE_START_TYPE\": () => /* binding */ RACE_START_TYPE,\n/* harmony export */   \"SHOOTING_DELAY\": () => /* binding */ SHOOTING_DELAY,\n/* harmony export */   \"AI_BEHAVIOUR\": () => /* binding */ AI_BEHAVIOUR,\n/* harmony export */   \"GENDER\": () => /* binding */ GENDER,\n/* harmony export */   \"AI_PLAYER_RUN_STATUS\": () => /* binding */ AI_PLAYER_RUN_STATUS,\n/* harmony export */   \"START_TIME_INTERVAL\": () => /* binding */ START_TIME_INTERVAL,\n/* harmony export */   \"PURSUIT_PLAYERS_NUM\": () => /* binding */ PURSUIT_PLAYERS_NUM,\n/* harmony export */   \"PENALTY_LAP_LENGTH\": () => /* binding */ PENALTY_LAP_LENGTH,\n/* harmony export */   \"PENALTY_MINUTE\": () => /* binding */ PENALTY_MINUTE,\n/* harmony export */   \"BASE_SPEED_MOD\": () => /* binding */ BASE_SPEED_MOD,\n/* harmony export */   \"PLAYER_STATUS\": () => /* binding */ PLAYER_STATUS,\n/* harmony export */   \"RACE_STATUS\": () => /* binding */ RACE_STATUS,\n/* harmony export */   \"RACE_POINTS_MAP\": () => /* binding */ RACE_POINTS_MAP,\n/* harmony export */   \"RELAY_POINTS_MAP\": () => /* binding */ RELAY_POINTS_MAP,\n/* harmony export */   \"MASS_START_POINTS_MAP\": () => /* binding */ MASS_START_POINTS_MAP,\n/* harmony export */   \"NATION_POINTS_MAP\": () => /* binding */ NATION_POINTS_MAP\n/* harmony export */ });\nvar PENALTY_TYPE = {\n  LAP: 1,\n  MINUTE: 0\n};\nvar RACE_START_TYPE = {\n  ALL: 1,\n  SEPARATE: 2,\n  PURSUIT: 3,\n  RELAY: 4\n};\nvar SHOOTING_DELAY = 60000; //AI behaviour constants\n\nvar AI_BEHAVIOUR = {\n  AGGRESSIVE: [50, 25, 25],\n  WEAK: [25, 25, 50],\n  NORMAL: [33, 34, 33]\n};\nvar GENDER = {\n  MEN: \"men\",\n  WOMEN: \"women\"\n};\nvar AI_PLAYER_RUN_STATUS = {\n  NORMAL: 0,\n  EASE: 1,\n  PUSHING: 2\n};\nvar START_TIME_INTERVAL = 30; // in seconds\n\nvar PURSUIT_PLAYERS_NUM = 60;\nvar PENALTY_LAP_LENGTH = 150;\nvar PENALTY_MINUTE = 100;\nvar BASE_SPEED_MOD = 0.05;\nvar PLAYER_STATUS = {\n  NOT_STARTED: 1,\n  RUNNING: 2,\n  SHOOTING: 3,\n  PENALTY: 4,\n  FINISHED: 5\n};\nvar RACE_STATUS = {\n  NOT_STARTED: 1,\n  IN_PROGRESS: 2,\n  FINISHED: 3,\n  RACE_NEXT: 4\n}; // indi - 20km / 15km\n// mass - 15km / 12.5km\n// sprint - 10km / 7.5km\n// pursuit - 12.5 / 10km\n// relay - 4x7.5 / 4x6\n// 20km:   [0, 1300, 2600, 3950, 4000,  5300, 6600, 7950, 8000,  9300, 10600, 11950, 12000,  13300, 14600, 15950, 16000, 17300, 18600, 20000],\n// 15km:   [0, 1500, 2300, 2950, 3000, 4500, 5300, 5950, 6000, 7500, 8300, 8950, 9000, 10500, 11300, 11950, 12000, 13500, 14300, 15000],\n// 12.5km: [0, 800, 1600, 2450, 2500,  3300, 4100, 4950, 5000,   5800, 6600, 7450, 7500,  8300, 9100, 9950,  10000, 10800, 11600, 12500],\n// 10km:   [0, 1100, 2200, 3280, 3300, 4400, 5500, 6580, 6600, 7800, 8900, 10000],\n// 7.5km:  [0, 800, 1600, 2450, 2500, 3300, 4100, 4950, 5000, 5800, 6600, 7500],\n// 6km:    [0, 700, 1400, 1950, 2000,  2700, 3400, 3950, 4000,  4700, 5400, 6000]\n//individual / pursuit / mass start\n// export const WAYPOINTS_TYPE_1 = \n// { \n//   [GENDER.MEN]: [0, 1500, 2300, 2950, 3000, 4500, 5300, 5950, 6000, 7500, 8300, 8950, 9000, 10500, 11300, 11950, 12000, 13500, 14300, 15000],\n//   [GENDER.WOMEN]: [0, 800, 1600, 2450, 2500,  3300, 4100, 4950, 5000,   5800, 6600, 7450, 7500,  8300, 9100, 9950,  10000, 10800, 11600, 12500],\n// };\n// export const RANGE_TYPE_1 = { [GENDER.MEN]: [0, 2950, 5950, 8950, 11950], [GENDER.WOMEN]: [2450, 4950, 7450, 9950] };\n// // relay / sprint\n// export const WAYPOINTS_TYPE_2 = { \n//   [GENDER.WOMEN]: [0, 800, 1600, 2450, 2500, 3300, 4100, 4950, 5000, 5800, 6600, 7500],\n//   [GENDER.MEN]: [0, 1100, 2200, 3280, 3300, 4400, 5500, 6580, 6600, 7800, 8900, 10000] };\n// export const RANGE_TYPE_2 = { [GENDER.WOMEN]: [0, 2450, 4950], [GENDER.MEN]: [0, 3280, 6580] };\n// export const RACE_TYPE_LONG = 1;\n// export const RACE_TYPE_SHORT = 2;\n\nvar RACE_POINTS_MAP = [60, 54, 48, 43, 40, 38, 36, 34, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 19, 18, 17, 16, 15, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1];\nvar RELAY_POINTS_MAP = [];\nvar MASS_START_POINTS_MAP = [60, 54, 48, 43, 40, 38, 36, 34, 32, 31, 30, 29, 28, 27, 26, 25, 24, 23, 22, 21, 20, 18, 16, 14, 12, 10, 8, 6, 4, 2, 1];\nvar NATION_POINTS_MAP = [];\n\n//# sourceURL=webpack://bt2018/./js/constants/constants.js?");

/***/ }),

/***/ "./js/constants/waypoints.js":
/*!***********************************!*\
  !*** ./js/constants/waypoints.js ***!
  \***********************************/
/*! namespace exports */
/*! export RANGES_10KM_LONG [provided] [no usage info] [missing usage info prevents renaming] */
/*! export RANGES_10KM_SHORT [provided] [no usage info] [missing usage info prevents renaming] */
/*! export RANGES_12_5KM [provided] [no usage info] [missing usage info prevents renaming] */
/*! export RANGES_15KM [provided] [no usage info] [missing usage info prevents renaming] */
/*! export RANGES_20KM [provided] [no usage info] [missing usage info prevents renaming] */
/*! export RANGES_6KM [provided] [no usage info] [missing usage info prevents renaming] */
/*! export RANGES_7_5KM [provided] [no usage info] [missing usage info prevents renaming] */
/*! export WAYPOINTS_10KM_LONG [provided] [no usage info] [missing usage info prevents renaming] */
/*! export WAYPOINTS_10KM_SHORT [provided] [no usage info] [missing usage info prevents renaming] */
/*! export WAYPOINTS_12_5KM [provided] [no usage info] [missing usage info prevents renaming] */
/*! export WAYPOINTS_15KM [provided] [no usage info] [missing usage info prevents renaming] */
/*! export WAYPOINTS_20KM [provided] [no usage info] [missing usage info prevents renaming] */
/*! export WAYPOINTS_6KM [provided] [no usage info] [missing usage info prevents renaming] */
/*! export WAYPOINTS_7_5KM [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"WAYPOINTS_20KM\": () => /* binding */ WAYPOINTS_20KM,\n/* harmony export */   \"RANGES_20KM\": () => /* binding */ RANGES_20KM,\n/* harmony export */   \"WAYPOINTS_15KM\": () => /* binding */ WAYPOINTS_15KM,\n/* harmony export */   \"RANGES_15KM\": () => /* binding */ RANGES_15KM,\n/* harmony export */   \"WAYPOINTS_12_5KM\": () => /* binding */ WAYPOINTS_12_5KM,\n/* harmony export */   \"RANGES_12_5KM\": () => /* binding */ RANGES_12_5KM,\n/* harmony export */   \"WAYPOINTS_10KM_LONG\": () => /* binding */ WAYPOINTS_10KM_LONG,\n/* harmony export */   \"RANGES_10KM_LONG\": () => /* binding */ RANGES_10KM_LONG,\n/* harmony export */   \"WAYPOINTS_10KM_SHORT\": () => /* binding */ WAYPOINTS_10KM_SHORT,\n/* harmony export */   \"RANGES_10KM_SHORT\": () => /* binding */ RANGES_10KM_SHORT,\n/* harmony export */   \"WAYPOINTS_7_5KM\": () => /* binding */ WAYPOINTS_7_5KM,\n/* harmony export */   \"RANGES_7_5KM\": () => /* binding */ RANGES_7_5KM,\n/* harmony export */   \"WAYPOINTS_6KM\": () => /* binding */ WAYPOINTS_6KM,\n/* harmony export */   \"RANGES_6KM\": () => /* binding */ RANGES_6KM\n/* harmony export */ });\n// LAPS WAYPONTS DEFINITIONS\n// indi - 20km / 15km (4)\n// mass - 15km / 12.5km (4)\n// sprint - 10km / 7.5km (2)\n// pursuit - 12.5 / 10km (4)\n// relay - 4x7.5 / 4x6 (2)\n// 20km:   [0, 1300, 2600, 3950, 4000,  5300, 6600, 7950, 8000,  9300, 10600, 11950, 12000,  13300, 14600, 15950, 16000, 17300, 18600, 20000],\n// 15km:   [0, 1500, 2300, 2950, 3000, 4500, 5300, 5950, 6000, 7500, 8300, 8950, 9000, 10500, 11300, 11950, 12000, 13500, 14300, 15000],\n// 12.5km: [0, 800, 1600, 2450, 2500,  3300, 4100, 4950, 5000,   5800, 6600, 7450, 7500,  8300, 9100, 9950,  10000, 10800, 11600, 12500],\n// 10km:   [0, 1100, 2200, 3280, 3300, 4400, 5500, 6580, 6600, 7800, 8900, 10000],\n// 7.5km:  [0, 800, 1600, 2450, 2500, 3300, 4100, 4950, 5000, 5800, 6600, 7500],\n// 6km:    [0, 700, 1400, 1950, 2000,  2700, 3400, 3950, 4000,  4700, 5400, 6000]\nvar WAYPOINTS_20KM = [0, 1300, 2600, 3950, 4000, 5300, 6600, 7950, 8000, 9300, 10600, 11950, 12000, 13300, 14600, 15950, 16000, 17300, 18600, 20000];\nvar RANGES_20KM = [0, 3950, 7950, 11950, 15950];\nvar WAYPOINTS_15KM = [0, 1500, 2300, 2950, 3000, 4500, 5300, 5950, 6000, 7500, 8300, 8950, 9000, 10500, 11300, 11950, 12000, 13500, 14300, 15000];\nvar RANGES_15KM = [0, 2950, 5950, 8950, 11950];\nvar WAYPOINTS_12_5KM = [0, 800, 1600, 2450, 2500, 3300, 4100, 4950, 5000, 5800, 6600, 7450, 7500, 8300, 9100, 9950, 10000, 10800, 11600, 12500];\nvar RANGES_12_5KM = [0, 2450, 4950, 7450, 9950];\nvar WAYPOINTS_10KM_LONG = [0, 1100, 2200, 3280, 3300, 4400, 5500, 6610, 6630, 7800, 8900, 10000];\nvar RANGES_10KM_LONG = [0, 3280, 6610];\nvar WAYPOINTS_10KM_SHORT = [0, 700, 1400, 1950, 2000, 2700, 3400, 3950, 4000, 4700, 5400, 5950, 6000, 6700, 7400, 7950, 8000, 8700, 9400, 10000];\nvar RANGES_10KM_SHORT = [0, 1950, 3950, 5950, 7950];\nvar WAYPOINTS_7_5KM = [0, 800, 1600, 2450, 2500, 3300, 4100, 4950, 5000, 5800, 6600, 7500];\nvar RANGES_7_5KM = [0, 2450, 4950];\nvar WAYPOINTS_6KM = [0, 700, 1400, 1950, 2000, 2700, 3400, 3950, 4000, 4700, 5400, 6000];\nvar RANGES_6KM = [0, 1950, 3950];\n\n//# sourceURL=webpack://bt2018/./js/constants/waypoints.js?");

/***/ }),

/***/ "./js/controller/IndividualRace.js":
/*!*****************************************!*\
  !*** ./js/controller/IndividualRace.js ***!
  \*****************************************/
/*! namespace exports */
/*! export IndividualRace [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IndividualRace\": () => /* binding */ IndividualRace\n/* harmony export */ });\n/* harmony import */ var _Race_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Race.js */ \"./js/controller/Race.js\");\n/* harmony import */ var _model_player_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/player.js */ \"./js/model/player.js\");\n/* harmony import */ var _constants_constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants/constants.js */ \"./js/constants/constants.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\nvar IndividualRace = /*#__PURE__*/function (_Race) {\n  _inherits(IndividualRace, _Race);\n\n  var _super = _createSuper(IndividualRace);\n\n  function IndividualRace() {\n    _classCallCheck(this, IndividualRace);\n\n    return _super.call(this);\n  }\n\n  _createClass(IndividualRace, [{\n    key: \"initPlayers\",\n    value: function initPlayers(players) {\n      //prepare players\n      this.players = players.map(function (player, i) {\n        var newPlayer = new _model_player_js__WEBPACK_IMPORTED_MODULE_1__.Player(_objectSpread({}, player));\n        newPlayer.reset();\n        newPlayer.number = i + 1;\n        newPlayer.startTimer = i * 30000;\n        return newPlayer;\n      });\n    }\n  }, {\n    key: \"run\",\n    value: function run(gameTick) {\n      var players = this.players,\n          track = this.track,\n          results = this.results;\n      this.raceTimer += gameTick | 0;\n      var PLAYER_STATUS = _constants_constants_js__WEBPACK_IMPORTED_MODULE_2__.PLAYER_STATUS;\n\n      for (var i = 0; i < players.length; i++) {\n        var player = players[i];\n\n        if (player.status === PLAYER_STATUS.NOT_STARTED && this.raceTimer >= player.startTimer) {\n          player.status = PLAYER_STATUS.RUNNING;\n        }\n\n        if (player.status !== PLAYER_STATUS.FINISHED) {\n          if (player.status === PLAYER_STATUS.RUNNING) {\n            var playerPrevDistance = player.distance;\n            player.run(gameTick);\n            var passedWaypoint = track.isWaypointPassed(player.distance, playerPrevDistance);\n            var passedRange = track.isShootingEntrancePassed(player.distance, playerPrevDistance);\n\n            if (passedWaypoint) {\n              this.logPlayerResult(results, player, passedWaypoint, this.raceTimer + player.penaltyTime - player.startTimer);\n            }\n\n            if (passedRange) {\n              player.status = PLAYER_STATUS.SHOOTING;\n              player.enterShootingRange(passedRange);\n            }\n          } else if (player.status === PLAYER_STATUS.SHOOTING) {\n            player.shoot(gameTick);\n\n            if (player.shotCount === 5) {\n              this.logShootingResult(results, player, player.rangeNum, player.currentRange);\n              var penaltyCount = player.currentRange.filter(function (r) {\n                return r === 0;\n              }).length;\n              player.penaltyTime += penaltyCount * 60000;\n              player.quitShootingRange(0);\n            }\n          }\n\n          if (player.distance >= track.getTrackLength()) player.status = PLAYER_STATUS.FINISHED;\n        }\n      }\n\n      this.raceFinished = players.every(function (player) {\n        return player.status === PLAYER_STATUS.FINISHED;\n      });\n    } //END OF CLASS\n\n  }]);\n\n  return IndividualRace;\n}(_Race_js__WEBPACK_IMPORTED_MODULE_0__.Race);\n\n//# sourceURL=webpack://bt2018/./js/controller/IndividualRace.js?");

/***/ }),

/***/ "./js/controller/MassStartRace.js":
/*!****************************************!*\
  !*** ./js/controller/MassStartRace.js ***!
  \****************************************/
/*! namespace exports */
/*! export MassStartRace [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MassStartRace\": () => /* binding */ MassStartRace\n/* harmony export */ });\n/* harmony import */ var _Race_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Race.js */ \"./js/controller/Race.js\");\n/* harmony import */ var _model_player_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/player.js */ \"./js/model/player.js\");\n/* harmony import */ var _constants_constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants/constants.js */ \"./js/constants/constants.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\nvar MassStartRace = /*#__PURE__*/function (_Race) {\n  _inherits(MassStartRace, _Race);\n\n  var _super = _createSuper(MassStartRace);\n\n  function MassStartRace() {\n    _classCallCheck(this, MassStartRace);\n\n    return _super.call(this);\n  }\n\n  _createClass(MassStartRace, [{\n    key: \"initPlayers\",\n    value: function initPlayers(players) {\n      //prepare players\n      this.players = players.map(function (player, i) {\n        var newPlayer = new _model_player_js__WEBPACK_IMPORTED_MODULE_1__.Player(_objectSpread({}, player));\n        newPlayer.reset();\n        newPlayer.number = i + 1;\n        newPlayer.startTimer = 0;\n        return newPlayer;\n      });\n    }\n  }, {\n    key: \"run\",\n    value: function run(gameTick) {\n      var players = this.players,\n          track = this.track,\n          results = this.results;\n      this.raceTimer += gameTick | 0;\n      var PLAYER_STATUS = _constants_constants_js__WEBPACK_IMPORTED_MODULE_2__.PLAYER_STATUS;\n\n      for (var i = 0; i < players.length; i++) {\n        var player = players[i];\n\n        if (player.status === PLAYER_STATUS.NOT_STARTED) {\n          player.status = PLAYER_STATUS.RUNNING;\n        }\n\n        if (player.status !== PLAYER_STATUS.FINISHED) {\n          if (player.status === PLAYER_STATUS.RUNNING) {\n            var playerPrevDistance = player.distance;\n            player.run(gameTick);\n            var passedWaypoint = track.isWaypointPassed(player.distance, playerPrevDistance);\n            var passedRange = track.isShootingEntrancePassed(player.distance, playerPrevDistance);\n\n            if (passedWaypoint) {\n              this.logPlayerResult(results, player, passedWaypoint, this.raceTimer);\n            }\n\n            if (passedRange) {\n              player.status = PLAYER_STATUS.SHOOTING;\n              player.enterShootingRange(passedRange);\n            }\n          } else if (player.status === PLAYER_STATUS.SHOOTING) {\n            player.shoot(gameTick);\n\n            if (player.shotCount === 5) {\n              this.logShootingResult(results, player, player.rangeNum, player.currentRange);\n              var penaltyCount = player.currentRange.filter(function (r) {\n                return r === 0;\n              }).length;\n              player.penalty = penaltyCount * track.penaltyLapLength; // player.status = penaltyCount ? PLAYER_STATUS.PENALTY : PLAYER_STATUS.RUNNING;\n\n              player.quitShootingRange(penaltyCount);\n            }\n          } else if (player.status === PLAYER_STATUS.PENALTY) {\n            player.runPenaltyLap(gameTick);\n            player.status = player.penalty > 0 ? PLAYER_STATUS.PENALTY : PLAYER_STATUS.RUNNING;\n          }\n\n          if (player.distance >= track.getTrackLength()) {\n            player.status = PLAYER_STATUS.FINISHED;\n            player.distance = track.getTrackLength();\n          }\n        }\n      }\n\n      this.raceFinished = players.every(function (player) {\n        return player.status === PLAYER_STATUS.FINISHED;\n      });\n    } //END OF CLASS\n\n  }]);\n\n  return MassStartRace;\n}(_Race_js__WEBPACK_IMPORTED_MODULE_0__.Race);\n\n//# sourceURL=webpack://bt2018/./js/controller/MassStartRace.js?");

/***/ }),

/***/ "./js/controller/PursuitRace.js":
/*!**************************************!*\
  !*** ./js/controller/PursuitRace.js ***!
  \**************************************/
/*! namespace exports */
/*! export PursuitRace [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PursuitRace\": () => /* binding */ PursuitRace\n/* harmony export */ });\n/* harmony import */ var _Race_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Race.js */ \"./js/controller/Race.js\");\n/* harmony import */ var _model_player_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/player.js */ \"./js/model/player.js\");\n/* harmony import */ var _constants_constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants/constants.js */ \"./js/constants/constants.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\nvar PursuitRace = /*#__PURE__*/function (_Race) {\n  _inherits(PursuitRace, _Race);\n\n  var _super = _createSuper(PursuitRace);\n\n  function PursuitRace() {\n    _classCallCheck(this, PursuitRace);\n\n    return _super.call(this);\n  }\n\n  _createClass(PursuitRace, [{\n    key: \"initPlayers\",\n    value: function initPlayers(players) {\n      //prepare players\n      var baseTime = players[0].startTimer;\n      this.players = players.map(function (player, i) {\n        var newPlayer = new _model_player_js__WEBPACK_IMPORTED_MODULE_1__.Player(_objectSpread({}, player));\n        var time = player.startTimer - baseTime;\n        newPlayer.reset();\n        newPlayer.number = i + 1;\n        newPlayer.startTimer = time;\n        return newPlayer;\n      });\n    }\n  }, {\n    key: \"run\",\n    value: function run(gameTick) {\n      var players = this.players,\n          track = this.track,\n          results = this.results;\n      this.raceTimer += gameTick | 0;\n      var PLAYER_STATUS = _constants_constants_js__WEBPACK_IMPORTED_MODULE_2__.PLAYER_STATUS;\n\n      for (var i = 0; i < players.length; i++) {\n        var player = players[i];\n\n        if (player.status === PLAYER_STATUS.NOT_STARTED && this.raceTimer >= player.startTimer) {\n          player.status = PLAYER_STATUS.RUNNING;\n        }\n\n        if (player.status !== PLAYER_STATUS.FINISHED && player.status !== PLAYER_STATUS.NOT_STARTED) {\n          if (player.status === PLAYER_STATUS.RUNNING) {\n            var playerPrevDistance = player.distance;\n            player.run(gameTick);\n            var passedWaypoint = track.isWaypointPassed(player.distance, playerPrevDistance);\n            var passedRange = track.isShootingEntrancePassed(player.distance, playerPrevDistance);\n\n            if (passedWaypoint) {\n              this.logPlayerResult(results, player, passedWaypoint, this.raceTimer);\n            }\n\n            if (passedRange) {\n              player.status = PLAYER_STATUS.SHOOTING;\n              player.enterShootingRange(passedRange);\n            }\n          } else if (player.status === PLAYER_STATUS.SHOOTING) {\n            player.shoot(gameTick);\n\n            if (player.shotCount === 5) {\n              this.logShootingResult(results, player, player.rangeNum, player.currentRange);\n              var penaltyCount = player.currentRange.filter(function (r) {\n                return r === 0;\n              }).length;\n              player.penalty = penaltyCount * track.penaltyLapLength; // player.status = penaltyCount ? PLAYER_STATUS.PENALTY : PLAYER_STATUS.RUNNING;\n\n              player.quitShootingRange(penaltyCount);\n            }\n          } else if (player.status === PLAYER_STATUS.PENALTY) {\n            player.runPenaltyLap(gameTick);\n            player.status = player.penalty > 0 ? PLAYER_STATUS.PENALTY : PLAYER_STATUS.RUNNING;\n          }\n\n          if (player.distance >= track.getTrackLength()) player.status = PLAYER_STATUS.FINISHED;\n        }\n      }\n\n      this.raceFinished = players.every(function (player) {\n        return player.status === PLAYER_STATUS.FINISHED;\n      });\n    } //END OF CLASS\n\n  }]);\n\n  return PursuitRace;\n}(_Race_js__WEBPACK_IMPORTED_MODULE_0__.Race);\n\n//# sourceURL=webpack://bt2018/./js/controller/PursuitRace.js?");

/***/ }),

/***/ "./js/controller/Race.js":
/*!*******************************!*\
  !*** ./js/controller/Race.js ***!
  \*******************************/
/*! namespace exports */
/*! export Race [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Race\": () => /* binding */ Race\n/* harmony export */ });\n/* harmony import */ var _ViewController_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ViewController.js */ \"./js/controller/ViewController.js\");\n/* harmony import */ var _model_track_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/track.js */ \"./js/model/track.js\");\n/* harmony import */ var _model_result_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../model/result.js */ \"./js/model/result.js\");\n/* harmony import */ var _constants_constants_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../constants/constants.js */ \"./js/constants/constants.js\");\n/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/Utils.js */ \"./js/utils/Utils.js\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n//Game controller\n\n\n\n\n\nvar Race = /*#__PURE__*/function () {\n  function Race() {\n    _classCallCheck(this, Race);\n\n    this.track = new _model_track_js__WEBPACK_IMPORTED_MODULE_1__.Track();\n    this.results = new _model_result_js__WEBPACK_IMPORTED_MODULE_2__.Result();\n    this.players = [];\n    this.id = null;\n    this.stageName = null;\n    this.name = null;\n    this.raceType = null;\n    this.raceGender = null; // this.frameRate = 100;\n\n    this.raceTimer = 0;\n    this.raceFinished = false;\n  }\n\n  _createClass(Race, [{\n    key: \"initRaceData\",\n    value: function () {\n      var _initRaceData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(raceData) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.id = raceData.id;\n                this.stageName = raceData.stageName;\n                this.name = raceData.name;\n                this.raceType = raceData.raceType;\n                this.raceGender = raceData.raceGender;\n                this.track.waypoints = raceData.waypoints;\n                this.track.shootingRange = raceData.ranges;\n                this.track.lapLength = raceData.lapLength;\n                _context.next = 10;\n                return this.track.loadMapData();\n\n              case 10:\n                this.track.initTrack();\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function initRaceData(_x) {\n        return _initRaceData.apply(this, arguments);\n      }\n\n      return initRaceData;\n    }()\n  }, {\n    key: \"getPlayers\",\n    value: function getPlayers() {\n      return this.players;\n    }\n  }, {\n    key: \"logPlayerResult\",\n    value: function logPlayerResult(resultStore, player, passedWaypoint, time) {\n      var payload = {\n        playerName: player.name,\n        playerNumber: player.number,\n        team: player.team,\n        waypoint: passedWaypoint,\n        time: time\n      };\n      resultStore.pushResult(payload);\n    }\n  }, {\n    key: \"logShootingResult\",\n    value: function logShootingResult(resultStore, player, range, result) {\n      var payload = {\n        playerName: player.name,\n        playerNumber: player.number,\n        team: player.team,\n        range: range,\n        result: result.filter(function (r) {\n          return r === 0;\n        }).length\n      };\n      resultStore.pushShootingResult(payload);\n    }\n  }, {\n    key: \"getFinishResult\",\n    value: function getFinishResult() {\n      return this.results.getWaypointResults(this.track.waypointsNum() - 1);\n    }\n  }, {\n    key: \"getPlayers\",\n    value: function getPlayers() {\n      return this.players;\n    } // getPlayerTeamMembers() {\n    //   var team = game.getPlayerTeam(),\n    //     resArray = [];\n    //   this.players.forEach(function (p) {\n    //     if (p.team.name == team) {\n    //       resArray.push(p);\n    //     }\n    //   });\n    //   return resArray;\n    // }\n    //RESULTS FETCH\n\n  }, {\n    key: \"getResults\",\n    value: function getResults() {\n      // const results = { ...this.results }\n      // return JSON.parse(JSON.stringify(results));\n      return this.results;\n    }\n  }, {\n    key: \"getWaypointResults\",\n    value: function getWaypointResults(waypointId) {\n      return this.results.getWaypointResults(waypointId);\n    }\n  }, {\n    key: \"getPlayerResults\",\n    value: function getPlayerResults(playerName, waypointId) {\n      return this.results.getPlayerResults(playerName, waypointId);\n    }\n  }, {\n    key: \"getPrevWaypointId\",\n    value: function getPrevWaypointId(distance) {\n      if (distance >= this.track.getTrackLength()) {\n        return this.track.waypoints.length - 1;\n      }\n\n      for (var i = 0; i < this.track.waypoints.length; i++) {\n        if (this.track.waypoints[i] < distance && this.track.waypoints[i + 1] > distance) {\n          return i;\n        }\n      }\n\n      return 0;\n    }\n  }, {\n    key: \"getWaypointsNames\",\n    value: function getWaypointsNames() {\n      var _this = this;\n\n      return this.track.waypoints.map(function (waypoint, index) {\n        return _this.track.getWaypointName(index);\n      });\n    }\n  }, {\n    key: \"getNextWaypointName\",\n    value: function getNextWaypointName(distance) {\n      if (distance === 0) {\n        return \"\";\n      }\n\n      if (distance >= this.track.getTrackLength()) {\n        return \"Finished\";\n      }\n\n      for (var i = 0; i < this.track.waypoints.length; i++) {\n        if (this.track.waypoints[i] < distance && this.track.waypoints[i + 1] > distance) {\n          return this.track.getWaypointName(i + 1);\n        }\n      }\n    }\n  }, {\n    key: \"getLastWaypointName\",\n    value: function getLastWaypointName(waypointId) {\n      if (waypointId === 0) {\n        return \"\";\n      }\n\n      if (waypointId == this.track.getFinishWaypoint()) {\n        return \"Finished\";\n      }\n\n      return this.track.getWaypointName(waypointId);\n    }\n  }, {\n    key: \"getLastWaypointResult\",\n    value: function getLastWaypointResult(playerName, waypointId) {\n      if (waypointId === 0) {\n        return {\n          time: \"--\",\n          place: \"--\",\n          shootingTotal: 0\n        };\n      }\n\n      var resultData = this.results.getWaypointResults(waypointId);\n      var playerIndex = resultData.findIndex(function (result) {\n        return result.playerName === playerName;\n      });\n      var playerData = resultData[playerIndex];\n      var time;\n\n      if (playerIndex === 0) {\n        time = _utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.Utils.convertToMinutes(playerData.time / 1000);\n      } else {\n        time = '+' + _utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.Utils.convertToMinutes(playerData.time / 1000 - resultData[0].time / 1000);\n      }\n\n      var result = {\n        time: time,\n        place: playerIndex + 1,\n        shootingTotal: playerData.shootingTotal\n      };\n      return result;\n    }\n  }, {\n    key: \"getRaceName\",\n    value: function getRaceName() {\n      return this.name;\n    }\n  }, {\n    key: \"getRaceStatus\",\n    value: function getRaceStatus() {\n      return this.status;\n    } // getRaceTime() {\n    //   return (this.gameTimer / 1000).toFixed(1);\n    // }\n\n  }, {\n    key: \"getPlayerTime\",\n    value: function getPlayerTime(startTime) {\n      if (startTime > this.raceTimer) {\n        return \"Starting in \" + _utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.Utils.convertToMinutes((startTime - this.raceTimer) / 1000);\n      }\n\n      return _utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.Utils.convertToMinutes((this.raceTimer - startTime) / 1000);\n    }\n  }, {\n    key: \"fullName\",\n    get: function get() {\n      return this.stageName + \" \" + this.raceType + \" \" + this.track.getTrackLengthKm() + \"km\" + \" \" + this.raceGender;\n    }\n  }, {\n    key: \"shortName\",\n    get: function get() {\n      return this.raceType + \" \" + this.track.getTrackLengthKm() + \"km\" + \" \" + this.raceGender;\n    }\n  }]);\n\n  return Race;\n}();\n\n//# sourceURL=webpack://bt2018/./js/controller/Race.js?");

/***/ }),

/***/ "./js/controller/RelayRace.js":
/*!************************************!*\
  !*** ./js/controller/RelayRace.js ***!
  \************************************/
/*! namespace exports */
/*! export RelayRace [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"RelayRace\": () => /* binding */ RelayRace\n/* harmony export */ });\n/* harmony import */ var _Race_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Race.js */ \"./js/controller/Race.js\");\n/* harmony import */ var _model_player_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/player.js */ \"./js/model/player.js\");\n/* harmony import */ var _constants_constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants/constants.js */ \"./js/constants/constants.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\nvar RelayRace = /*#__PURE__*/function (_Race) {\n  _inherits(RelayRace, _Race);\n\n  var _super = _createSuper(RelayRace);\n\n  function RelayRace() {\n    var _this;\n\n    _classCallCheck(this, RelayRace);\n\n    // const teamsCount = 27;\n    // const { PLAYER_STATUS } = Constants;\n    _this = _super.call(this);\n    _this.teams = []; // this.players = [];\n    // for (var t = 0; t < teamsCount; t++) {\n    //   this.teams[t] = {};\n    //   this.teams[t].players = [];\n    //   this.teams[t].name = \"Team \" + (t + 1);\n    //   this.teams[t].leg = 0;\n    //   this.teams[t].status = PLAYER_STATUS.NOT_STARTED;\n    //   for (var i = 1; i <= 4; i++) {\n    //     this.teams[t].players.push(\n    //       new Player({\n    //         name: \"Player \" + (t + 1) + \"-\" + i,\n    //         team: this.teams[t].name,\n    //         number: t + 1 + \" \" + i,\n    //       })\n    //     );\n    //   }\n    // }\n\n    return _this;\n  }\n\n  _createClass(RelayRace, [{\n    key: \"initPlayers\",\n    value: function initPlayers(players) {\n      var teamNumber = 1; // let playerNumber = 1;\n\n      this.teams = _toConsumableArray(players);\n\n      var _iterator = _createForOfIteratorHelper(this.teams),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var team = _step.value;\n          // team.name = team.teamName;\n          team.leg = 0;\n          team.status = _constants_constants_js__WEBPACK_IMPORTED_MODULE_2__.PLAYER_STATUS.NOT_STARTED;\n\n          var _iterator2 = _createForOfIteratorHelper(team.players.entries()),\n              _step2;\n\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var _step2$value = _slicedToArray(_step2.value, 2),\n                  i = _step2$value[0],\n                  player = _step2$value[1];\n\n              player.number = teamNumber + \" \" + (i + 1);\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n\n          teamNumber++;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"getPlayers\",\n    value: function getPlayers() {\n      var players = this.teams.map(function (team) {\n        return team.players[team.leg];\n      });\n      return players;\n    } // getFinishResult() {\n    //   return false;\n    // }\n\n  }, {\n    key: \"run\",\n    value: function run(gameTick) {\n      var teams = this.teams,\n          track = this.track,\n          results = this.results;\n      var PLAYER_STATUS = _constants_constants_js__WEBPACK_IMPORTED_MODULE_2__.PLAYER_STATUS;\n      this.raceTimes += gameTick;\n\n      for (var i = 0; i < teams.length; i++) {\n        var team = teams[i];\n\n        if (team.status !== PLAYER_STATUS.FINISHED) {\n          if (team.status === PLAYER_STATUS.NOT_STARTED) {\n            team.status = PLAYER_STATUS.RUNNING;\n            team.players[0].status = PLAYER_STATUS.RUNNING;\n          }\n\n          var player = team.players[team.leg];\n\n          if (team.status === PLAYER_STATUS.RUNNING) {\n            var playerPrevDistance = player.distance;\n            player.run(gameTick);\n            var passedWaypoint = track.isWaypointPassed(player.distance, playerPrevDistance);\n            var passedRange = track.isShootingEntrancePassed(player.distance, playerPrevDistance);\n\n            if (passedWaypoint) {\n              results.pushRelayResult(passedWaypoint, player.number, player.name, team.name, this.raceTimer - player.startTimer, team.leg + 1);\n            }\n\n            if (passedRange) {\n              team.status = PLAYER_STATUS.SHOOTING;\n              player.enterShootingRange(passedRange);\n            }\n          } else if (team.status === PLAYER_STATUS.SHOOTING) {\n            player.shoot(gameTick);\n\n            if (player.shotCount === 8 || player.currentRange.indexOf(0) === -1) {\n              results.pushShootingResultRelay(player.rangeNum, player.name, team.name, player.currentRange, player.shotCount - 5);\n              var penaltyCount = player.currentRange.filter(function (r) {\n                return r === 0;\n              }).length;\n              player.penalty = penaltyCount * track.penaltyLapLength; // team.status = penaltyCount ? PLAYER_STATUS.PENALTY : PLAYER_STATUS.RUNNING;\n\n              player.quitShootingRange(penaltyCount);\n            }\n          } else if (team.status === PLAYER_STATUS.PENALTY) {\n            player.runPenaltyLap(gameTick);\n            team.status = player.penalty > 0 ? PLAYER_STATUS.PENALTY : PLAYER_STATUS.RUNNING;\n          }\n\n          if (player.distance >= track.getTrackLength()) {\n            // replace leg\n            console.log(team.name + \" switching leg to \" + (team.leg + 1));\n            team.players[team.leg].status = PLAYER_STATUS.FINISHED;\n\n            if (team.leg >= 3) {\n              team.status = PLAYER_STATUS.FINISHED;\n            } else {\n              team.leg++;\n              team.players[team.leg].status = PLAYER_STATUS.RUNNING;\n            }\n          }\n        }\n      }\n\n      this.raceFinished = teams.every(function (t) {\n        return t.status === PLAYER_STATUS.FINISHED;\n      });\n    }\n  }]);\n\n  return RelayRace;\n}(_Race_js__WEBPACK_IMPORTED_MODULE_0__.Race);\n\n//# sourceURL=webpack://bt2018/./js/controller/RelayRace.js?");

/***/ }),

/***/ "./js/controller/SprintRace.js":
/*!*************************************!*\
  !*** ./js/controller/SprintRace.js ***!
  \*************************************/
/*! namespace exports */
/*! export SprintRace [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SprintRace\": () => /* binding */ SprintRace\n/* harmony export */ });\n/* harmony import */ var _Race_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Race.js */ \"./js/controller/Race.js\");\n/* harmony import */ var _model_player_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../model/player.js */ \"./js/model/player.js\");\n/* harmony import */ var _constants_constants_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants/constants.js */ \"./js/constants/constants.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\nvar SprintRace = /*#__PURE__*/function (_Race) {\n  _inherits(SprintRace, _Race);\n\n  var _super = _createSuper(SprintRace);\n\n  function SprintRace() {\n    _classCallCheck(this, SprintRace);\n\n    return _super.call(this);\n  }\n\n  _createClass(SprintRace, [{\n    key: \"initPlayers\",\n    value: function initPlayers(players) {\n      //prepare players\n      this.players = players.map(function (player, i) {\n        var newPlayer = new _model_player_js__WEBPACK_IMPORTED_MODULE_1__.Player(_objectSpread({}, player));\n        newPlayer.reset();\n        newPlayer.number = i + 1;\n        newPlayer.startTimer = i * 30000;\n        return newPlayer;\n      });\n    }\n  }, {\n    key: \"run\",\n    value: function run(gameTick) {\n      var players = this.players,\n          track = this.track,\n          results = this.results;\n      this.raceTimer += gameTick | 0;\n      var PLAYER_STATUS = _constants_constants_js__WEBPACK_IMPORTED_MODULE_2__.PLAYER_STATUS;\n\n      for (var i = 0; i < players.length; i++) {\n        var player = players[i];\n\n        if (player.status === PLAYER_STATUS.NOT_STARTED && this.raceTimer >= player.startTimer) {\n          player.status = PLAYER_STATUS.RUNNING;\n        }\n\n        if (player.status !== PLAYER_STATUS.FINISHED && player.status !== PLAYER_STATUS.NOT_STARTED) {\n          if (player.status === PLAYER_STATUS.RUNNING) {\n            var playerPrevDistance = player.distance;\n            player.run(gameTick);\n            var passedWaypoint = track.isWaypointPassed(player.distance, playerPrevDistance);\n            var passedRange = track.isShootingEntrancePassed(player.distance, playerPrevDistance);\n\n            if (passedWaypoint) {\n              this.logPlayerResult(results, player, passedWaypoint, this.raceTimer - player.startTimer);\n            }\n\n            if (passedRange) {\n              player.status = PLAYER_STATUS.SHOOTING;\n              player.enterShootingRange(passedRange);\n            }\n          } else if (player.status === PLAYER_STATUS.SHOOTING) {\n            player.shoot(gameTick);\n\n            if (player.shotCount === 5) {\n              this.logShootingResult(results, player, player.rangeNum, player.currentRange);\n              var penaltyCount = player.currentRange.filter(function (r) {\n                return r === 0;\n              }).length;\n              player.penalty = penaltyCount * track.penaltyLapLength;\n              player.quitShootingRange(penaltyCount);\n            }\n          } else if (player.status === PLAYER_STATUS.PENALTY) {\n            player.runPenaltyLap(gameTick);\n            player.status = player.penalty > 0 ? PLAYER_STATUS.PENALTY : PLAYER_STATUS.RUNNING;\n          }\n\n          if (player.distance >= track.getTrackLength()) player.status = PLAYER_STATUS.FINISHED;\n        }\n      }\n\n      this.raceFinished = players.every(function (player) {\n        return player.status === PLAYER_STATUS.FINISHED;\n      });\n    } //END OF CLASS\n\n  }]);\n\n  return SprintRace;\n}(_Race_js__WEBPACK_IMPORTED_MODULE_0__.Race);\n\n//# sourceURL=webpack://bt2018/./js/controller/SprintRace.js?");

/***/ }),

/***/ "./js/controller/ViewController.js":
/*!*****************************************!*\
  !*** ./js/controller/ViewController.js ***!
  \*****************************************/
/*! namespace exports */
/*! export VIEW_PANELS [provided] [no usage info] [missing usage info prevents renaming] */
/*! export View [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"VIEW_PANELS\": () => /* binding */ VIEW_PANELS,\n/* harmony export */   \"View\": () => /* binding */ View\n/* harmony export */ });\n/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/Utils.js */ \"./js/utils/Utils.js\");\n/* harmony import */ var _data_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../data.js */ \"./js/data.js\");\n/* harmony import */ var _constants_constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants/constants.js */ \"./js/constants/constants.js\");\n/* harmony import */ var _view_PlayerControls_PlayerControls_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../view/PlayerControls/PlayerControls.js */ \"./js/view/PlayerControls/PlayerControls.js\");\n/* harmony import */ var _view_PlayerBub_PlayerBub_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../view/PlayerBub/PlayerBub.js */ \"./js/view/PlayerBub/PlayerBub.js\");\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\nvar VIEW_PANELS = {\n  PANEL_RACE: \"race\",\n  PANEL_CHAMPIONSHIP: \"championship\",\n  PANEL_FINISH_RESULTS: \"finish-results\"\n};\nvar View = /*#__PURE__*/function () {\n  function View() {\n    _classCallCheck(this, View);\n\n    this.trackView = document.querySelector(\"#track-info\");\n    this.mainView = document.querySelector(\"#main-view\");\n    this.resultView = document.querySelector(\"#results-view\");\n    this.playerControls = document.querySelector(\"#player-controls\");\n    this.intermediateResult = document.querySelector(\"#intermediate-results\");\n    this.shootingRange = document.querySelector(\"#range-results\");\n    this.viewPanels2 = [\"#championship-standings\", \"#finish-results\", \"#race-main\"];\n    this.viewPanels = {\n      championship: {\n        id: \"#championship-standings\",\n        style: \"flex\"\n      },\n      \"finish-results\": {\n        id: \"#finish-results\",\n        style: \"flex\"\n      },\n      race: {\n        id: \"#race-main\",\n        style: \"flex\"\n      }\n    };\n  }\n\n  _createClass(View, [{\n    key: \"hideAllPanels\",\n    value: function hideAllPanels() {\n      var _this = this;\n\n      Object.keys(this.viewPanels).forEach(function (panel) {\n        var elem = document.querySelector(_this.viewPanels[panel].id);\n        elem.style.display = \"none\";\n      });\n    }\n  }, {\n    key: \"showPanel\",\n    value: function showPanel(panelName, data) {\n      var elem = document.querySelector(this.viewPanels[panelName].id);\n      elem.style.display = this.viewPanels[panelName].style;\n\n      if (data) {\n        elem.innerHTML = data;\n      }\n    } // renderProgress(race) {\n    //   const players = race.players;\n    //   const raceFinished = race.raceFinished;\n    //   const timer = Utils.convertToMinutes(race.raceTimer / 1000);\n    //   const htmlProgress = players\n    //     .map((player) => {\n    //       return `<div>${player.name} ${player.status} ${player.distance.toFixed(1)}</div>`;\n    //     })\n    //     .join(\"\");\n    //   const htmlRace = `<div>Race finished: ${raceFinished}</div>\n    // \t<div>Race timer: ${timer}</div>\n    // \t<div>${htmlProgress}</div>`;\n    //   document.querySelector(\"#run\").innerHTML = `<div>${htmlRace}</div>`;\n    // }\n\n  }, {\n    key: \"renderShortRelayResults\",\n    value: function renderShortRelayResults(results, track) {\n      var teamResults = results.data.filter(function (res) {\n        return res.waypoint === track.getFinishWaypoint() && res.leg === 4;\n      });\n      var htmlResults = teamResults.map(function (result, i) {\n        var timeStr = i > 0 ? \"+\" + _utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.Utils.convertToMinutes((result.time - teamResults[0].time) / 1000) : _utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.Utils.convertToMinutes(result.time / 1000);\n        var item = \"<div>\\n\\t\\t\\t<span>\".concat(i + 1, \"</span>\\n\\t\\t\\t<span>\").concat(result.team, \"</span>\\n\\t\\t\\t<span>\").concat(timeStr, \"</span>\\n\\t\\t\\t</div>\");\n        return item;\n      });\n      document.querySelector(\"#run\").innerHTML = \"<div>\".concat(htmlResults.join(\"\"), \"</div>\");\n    }\n  }, {\n    key: \"renderRelayResults\",\n    value: function renderRelayResults(results, track) {\n      var teamTotalResults = results.data.filter(function (res) {\n        return res.waypoint === track.getFinishWaypoint() && res.leg === 4;\n      }).reduce(function (acc, result) {\n        var teamName = result.team;\n        if (!acc[teamName]) acc[teamName] = [];\n        return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, teamName, result.time));\n      }, {});\n      var teamTotalShooting = results.shootingData.reduce(function (acc, result) {\n        var teamName = result.team;\n        if (!acc[teamName]) acc[teamName] = {\n          misses: 0,\n          ammo: 0\n        };\n        return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, teamName, {\n          misses: acc[teamName].misses + result.result,\n          ammo: acc[teamName].ammo + result.ammo\n        }));\n      }, {});\n      var teamPlayerResults = results.data.filter(function (res) {\n        return res.waypoint === track.getFinishWaypoint();\n      }).reduce(function (acc, result) {\n        var teamName = result.team;\n        if (!acc[teamName]) acc[teamName] = [];\n        return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, teamName, [].concat(_toConsumableArray(acc[teamName]), [{\n          playerName: result.playerName,\n          time: result.time,\n          leg: result.leg\n        }])));\n      }, {});\n      var htmlResults = Object.keys(teamTotalResults).map(function (teamName) {\n        var playerItems = teamPlayerResults[teamName].map(function (player) {\n          return \"<div><span>\".concat(player.playerName, \"</span> <span>\").concat(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.Utils.convertToMinutes(player.time / 1000), \"</span></div>\");\n        });\n        var item = \"<div>\\n\\t\\t\\t\\t<span>\".concat(teamName, \"</span>\\n\\t\\t\\t\\t<span>\").concat(teamTotalShooting[teamName].misses, \"+\").concat(teamTotalShooting[teamName].ammo, \"</span>\\n\\t\\t\\t\\t<span>\").concat(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.Utils.convertToMinutes(teamTotalResults[teamName] / 1000), \"</span>\\n\\t\\t\\t\\t<div class=\\\"relay-player-items\\\">\").concat(playerItems.join(\"\"), \"</div>\\n\\t\\t\\t</div>\");\n        return item;\n      });\n      document.querySelector(\"#run\").innerHTML = \"<div>\".concat(htmlResults.join(\"\"), \"</div>\");\n    }\n  }, {\n    key: \"renderShortResults\",\n    value: function renderShortResults(results) {\n      this.hideAllPanels();\n      var htmlResults = results.map(function (result, i) {\n        // const shootingResult = result.shooting.reduce((acc, val) => acc + val, 0);\n        var colors = _data_js__WEBPACK_IMPORTED_MODULE_0__.teamData.find(function (team) {\n          return team.shortName === result.team;\n        }).colors;\n        return \"<div class=\\\"result-row\\\">\\n      <div class=\\\"player-cell-small\\\">\".concat(i + 1, \"</div> \\n      <div class=\\\"player-bub\\\" style=\\\"background: \").concat(colors[0], \"; color: \").concat(colors[1], \"\\\">\").concat(result.playerNumber, \"</div>\\n\\t\\t\\t<div class=\\\"player-name\\\">\").concat(result.playerName, \"</div>\\n\\t\\t\\t<div>\").concat(result.team, \"</div>\\n\\t\\t\\t<div>\").concat(result.shootingTotal, \"</div>\\n\\t\\t\\t<div>\").concat(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.Utils.convertToMinutes(result.time / 1000), \"</div>\\n\\t\\t\\t</div>\");\n      });\n      var resultData = \"<div>\".concat(htmlResults.join(\"\"), \"</div>\");\n      this.showPanel(VIEW_PANELS.PANEL_FINISH_RESULTS, resultData);\n    }\n  }, {\n    key: \"renderResults\",\n    value: function renderResults(results) {\n      var htmlResults = results.map(function (result, i) {\n        var colors = _data_js__WEBPACK_IMPORTED_MODULE_0__.teamData.find(function (team) {\n          return team.shortName === result.team;\n        }).colors;\n        return \"<div class=\\\"intermediate-row\\\">\\n        <div class=\\\"player-cell-small\\\">\".concat(i + 1, \"</div>\\n        <div class=\\\"player-bub\\\" style=\\\"background: \").concat(colors[0], \"; color: \").concat(colors[1], \"\\\">\").concat(result.playerNumber, \"</div>\\n        <div class=\\\"player-name\\\">\").concat(result.playerName, \"</div>\\n        <div>\").concat(result.team, \"</div>\\n        <div>\").concat(_utils_Utils_js__WEBPACK_IMPORTED_MODULE_4__.Utils.convertToMinutes(result.time / 1000), \"</div>\\n        </div>\"); // return `<div class=\"intermediate-row\">\n        //   <div class=\"player-name\">${result.playerName}</div>\n        //   <div>${result.team}</div>\n        //   <div>${Utils.convertToMinutes(result.time / 1000)}</div>\n        // </div>`;\n      });\n      this.intermediateResult.innerHTML = \"<div class=\\\"intermediate-results\\\">\".concat(htmlResults.join(\"\"), \"</div>\");\n    } // renderResults(results, track) {\n    //   const pls = game.players;\n    //   //results fetch\n    //   const playerResults = results.data.reduce((acc, result) => {\n    //     const name = result.playerName;\n    //     if (!acc[name]) {\n    //       acc[name] = [];\n    //     }\n    //     return {\n    //       ...acc,\n    //       [name]: [\n    //         ...acc[name],\n    //         {\n    //           wpName: track.getWaypointName(result.waypoint),\n    //           time: Utils.convertToMinutes(result.time / 1000),\n    //         },\n    //       ],\n    //     };\n    //   }, {});\n    //   const rangeResults = results.shootingData.reduce((acc, result) => {\n    //     const name = result.playerName;\n    //     if (!acc[name]) {\n    //       acc[name] = [];\n    //     }\n    //     return {\n    //       ...acc,\n    //       [name]: [...acc[name], { range: result.range, result: result.result }],\n    //     };\n    //   }, {});\n    //   //html\n    //   const htmlResults = Object.keys(playerResults)\n    //     .map((name) => {\n    //       const resultItems = playerResults[name].map((r) => {\n    //         const item = `<span class=\"waypoint\">${r.wpName}</span><span class=\"time\">${r.time}</span>`;\n    //         return `<li class=\"result-list-item\">${item}</li>`;\n    //       });\n    //       const rangeItems = rangeResults[name].map((r) => {\n    //         const item = `<div>Range ${r.range}: ${r.result}</div>`;\n    //         return `<div>${item}</div>`;\n    //       });\n    //       const list = `<div class=\"result-block\">${name}<ul class=\"result-list\">${resultItems.join(\n    //         \"\"\n    //       )}</ul>${rangeItems.join(\"\")}</div>`;\n    //       return list;\n    //     })\n    //     .join(\"\");\n    //   document.querySelector(\"#finish-results\").innerHTML = `<div class=\"results\">${htmlResults}</div>`;\n    // }\n\n  }, {\n    key: \"renderTeamList\",\n    value: function renderTeamList(teams) {\n      var htmlResults = teams.map(function (team) {\n        var maleList = team.getMalePlayers().map(function (player) {\n          return \"<li>\".concat(player.name, \" S:\").concat(player.baseSpeed, \" A:\").concat(player.accuracy, \"</li>\");\n        }).join(\"\");\n        var femaleList = team.getFemalePlayers().map(function (player) {\n          return \"<li>\".concat(player.name, \" S:\").concat(player.baseSpeed, \" A:\").concat(player.accuracy, \"</li>\");\n        }).join(\"\");\n        return \"<div>\".concat(team.name, \"</div>\\n\\t\\t\\t<div class=\\\"player-list\\\">\\n\\t\\t\\t\\t<ul>\").concat(maleList, \"</ul>\\n\\t\\t\\t\\t<ul>\").concat(femaleList, \"</ul>\\n\\t\\t\\t</div>\");\n      }).join(\"\");\n      document.querySelector(\"#run\").innerHTML = \"<div>\".concat(htmlResults, \"</div>\");\n    }\n  }, {\n    key: \"renderPlayerList\",\n    value: function renderPlayerList(players) {\n      var playerListHtml = players.map(function (player) {\n        return \"<li>\".concat(player.name, \" \").concat(player.team, \" \").concat(player.gender === \"male\" ? \"M\" : \"F\", \" S:\").concat(player.baseSpeed, \" A:\").concat(player.accuracy, \"</li>\");\n      });\n      var list = \"<ul>\".concat(playerListHtml.join(\"\"), \"</ul>\");\n      document.querySelector(\"#run\").innerHTML = \"<div>\".concat(list, \"</div>\");\n    }\n  }, {\n    key: \"renderRaceList\",\n    value: function renderRaceList(races) {\n      var container = document.querySelector(\"#race-schedule\");\n      var stages = races.reduce(function (acc, result) {\n        var stage = result.stageName;\n        if (!acc[stage]) acc[stage] = [];\n        return _objectSpread(_objectSpread({}, acc), {}, _defineProperty({}, stage, [].concat(_toConsumableArray(acc[stage]), [result])));\n      }, {});\n      var racesListHtml = Object.keys(stages).map(function (stage) {\n        var races = stages[stage].map(function (race) {\n          var liClass;\n\n          switch (race.status) {\n            case _constants_constants_js__WEBPACK_IMPORTED_MODULE_1__.RACE_STATUS.RACE_NEXT:\n              liClass = \"list-race-next\";\n              break;\n\n            case _constants_constants_js__WEBPACK_IMPORTED_MODULE_1__.RACE_STATUS.FINISHED:\n              liClass = \"list-race-finished\";\n              break;\n\n            default:\n              liClass = \"list-race-normal\";\n          }\n\n          return \"<li class=\".concat(liClass, \">\").concat(race.name, \"</li>\");\n        });\n        return \"<div class=\\\"race-list-header\\\">\".concat(stage, \"</div>\\n      <ul class=\\\"race-list-ul\\\">\").concat(races.join(\"\"), \"</ul>\");\n      });\n      container.innerHTML = \"<div class=\\\"race-block\\\">\".concat(racesListHtml.join(\"\"), \"</div>\");\n    }\n  }, {\n    key: \"renderChampionshipStandings\",\n    value: function renderChampionshipStandings(races, standingsMen, standingsWomen) {\n      this.hideAllPanels(); // should render race list, men standings, women standings\n\n      var container = document.querySelector(\"#standings-men\");\n      var container_wmn = document.querySelector(\"#standings-women\");\n      this.renderRaceList(races);\n      var standingsHTML = standingsMen.map(function (result) {\n        return \"\\n      <div class=\\\"standings-row\\\">\\n      <div class=\\\"player-name\\\">\".concat(result.name, \"</div>\\n      <div class=\\\"player-cell-medium\\\">\").concat(result.team, \"</div>\\n      <div class=\\\"player-cell-small\\\">\").concat(result.points, \"</div>\\n      </div>\");\n      });\n      var standingsWMN_HTML = standingsWomen.map(function (result) {\n        return \"\\n      <div class=\\\"standings-row\\\">\\n      <div class=\\\"player-name\\\">\".concat(result.name, \"</div>\\n      <div class=\\\"player-cell-medium\\\">\").concat(result.team, \"</div>\\n      <div class=\\\"player-cell-small\\\">\").concat(result.points, \"</div>\\n      </div>\");\n      });\n      container.innerHTML = \"<div>\\n      <div class=\\\"standings-header\\\">Standings Men</div>\\n      \".concat(standingsHTML.join(\"\"), \"\\n      </div>\");\n      container_wmn.innerHTML = \"<div>\\n      <div class=\\\"standings-header\\\">Standings Women</div>\\n      \".concat(standingsWMN_HTML.join(\"\"), \"\\n      </div>\");\n      this.showPanel(VIEW_PANELS.PANEL_CHAMPIONSHIP);\n    } // SHOOTING\n\n  }, {\n    key: \"renderShootingRange\",\n    value: function renderShootingRange() {\n      var players = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var target = arguments.length > 1 ? arguments[1] : undefined;\n      var shootingTargetsHTML = players.map(function (player) {\n        var rangeHtml = player.range.map(function (r) {\n          return r === 1 ? \"<div class=\\\"target-closed\\\"></div>\" : \"<div class=\\\"target-open\\\"></div>\";\n        });\n        var rangeClass;\n        var playerClass = player.delayed ? \"shooting-player shooting-player-delayed\" : \"shooting-player\";\n\n        if (player.missNotification) {\n          rangeClass = \"range-missed\";\n          player.dismissMissNotification();\n        }\n\n        return \"<div class=\\\"range\\\">\".concat(rangeHtml.join(\"\"), \" <div class=\\\"\").concat(playerClass, \"\\\">\").concat(player.name, \" \").concat(player.team, \"</div></div>\");\n      }); // const container = document.querySelector(\"#range-results\");\n\n      this.shootingRange.innerHTML = \"<div class=\\\"shooting-container\\\">\".concat(shootingTargetsHTML.join(\"\"), \"</div>\");\n    }\n  }, {\n    key: \"setupRaceView\",\n    value: function setupRaceView(race) {\n      this.hideAllPanels(); //waypoints\n\n      var raceName = \"\".concat(race.stageName, \" \").concat(race.name);\n      var waypoints = race.getWaypointsNames();\n      var resultHtml = waypoints.map(function (waypoint, index) {\n        return \"<button type=\\\"button\\\" class=\\\"btn-waypoint\\\" name=\\\"\".concat(index, \"\\\">\").concat(waypoint, \"</button>\");\n      });\n      var pagingButtons = \"<button type=\\\"button\\\" class=\\\"btn-paging\\\" name=\\\"prev\\\">Prev</button>\\n    <button type=\\\"button\\\" class=\\\"btn-paging\\\" name=\\\"next\\\">Next</button>\";\n      this.showPanel(VIEW_PANELS.PANEL_RACE);\n      var container = document.querySelector(\"#results-controls\");\n      var nameContainer = document.querySelector(\"#race-name\");\n      var pagingContainer = document.querySelector(\"#results-paging\");\n      container.innerHTML = \"<div class=\\\"results-controls\\\">\".concat(resultHtml.join(\"\"), \"</div>\");\n      nameContainer.textContent = raceName;\n      pagingContainer.innerHTML = pagingButtons;\n    }\n  }, {\n    key: \"updateResultsControls\",\n    value: function updateResultsControls(resultsCount) {\n      var pagingContainer = document.querySelector(\"#results-paging\");\n      var pagesNum = resultsCount / 20;\n      var pagingButtons = [];\n      pagingButtons.push(\"<button type=\\\"button\\\" class=\\\"btn-paging\\\" name=\\\"prev\\\">Prev</button>\");\n\n      for (var i = 0; i < pagesNum; i++) {\n        pagingButtons.push(\"<button type=\\\"button\\\" class=\\\"btn-paging\\\" name=\".concat(i, \">\").concat(i * 20 + 1, \"...\").concat((i + 1) * 20, \"</button>\"));\n      }\n\n      pagingButtons.push(\"<button type=\\\"button\\\" class=\\\"btn-paging\\\" name=\\\"next\\\">Next</button>\");\n      pagingContainer.innerHTML = pagingButtons.join(\"\");\n    }\n  }]);\n\n  return View;\n}();\n\n//# sourceURL=webpack://bt2018/./js/controller/ViewController.js?");

/***/ }),

/***/ "./js/controller/championship.js":
/*!***************************************!*\
  !*** ./js/controller/championship.js ***!
  \***************************************/
/*! namespace exports */
/*! export Championship [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Championship\": () => /* binding */ Championship\n/* harmony export */ });\n/* harmony import */ var _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants/constants.js */ \"./js/constants/constants.js\");\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it; if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// import { racesData } from '../data.js';\n\nvar Championship = /*#__PURE__*/function () {\n  function Championship() {\n    _classCallCheck(this, Championship);\n\n    this.state = _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.RACE_STATUS.IN_PROGRESS;\n    this.results = [];\n    this.raceCalendar = [];\n    this.standingsMen = {};\n    this.standingsWomen = {};\n    this.nationPoints = {}; //postponed for future releases\n  }\n\n  _createClass(Championship, [{\n    key: \"getPlayersStandings\",\n    value: function getPlayersStandings(gender, resultsNum) {\n      var points = gender === _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.GENDER.MEN ? this.standingsMen : this.standingsWomen;\n      var standings = Object.keys(points).map(function (player) {\n        return {\n          name: player,\n          points: points[player]\n        };\n      }).sort(function (p1, p2) {\n        return p1.points > p2.points ? -1 : 1;\n      });\n      return standings.slice(0, resultsNum);\n    }\n  }, {\n    key: \"createRaceList\",\n    value: function createRaceList(racesData) {\n      var raceId = 1;\n      var res = [];\n\n      var _iterator = _createForOfIteratorHelper(racesData),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var stage = _step.value;\n\n          var _iterator2 = _createForOfIteratorHelper(stage.raceMap),\n              _step2;\n\n          try {\n            for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n              var race = _step2.value;\n              res.push({\n                id: raceId,\n                stageName: stage.name,\n                name: race.name,\n                raceType: race.type,\n                raceGender: race.gender,\n                waypoints: race.waypoints,\n                ranges: race.ranges,\n                lapLength: race.lapLength,\n                results: null,\n                finish: null,\n                status: _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.RACE_STATUS.NOT_STARTED\n              });\n              raceId++;\n            }\n          } catch (err) {\n            _iterator2.e(err);\n          } finally {\n            _iterator2.f();\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      res[0].status = _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.RACE_STATUS.RACE_NEXT;\n      this.raceCalendar = res;\n    }\n  }, {\n    key: \"onRaceFinish\",\n    value: function onRaceFinish(race) {\n      var pointResultsNumber = race.raceType === \"Mass-start\" ? 30 : 40;\n      var finishedRace = this.getRaceById(race.id);\n      var results = race.getFinishResult().slice(0, pointResultsNumber);\n      var standings = race.raceGender === _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.GENDER.MEN ? this.standingsMen : this.standingsWomen;\n      finishedRace.status = _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.RACE_STATUS.FINISHED;\n      finishedRace.results = race.results;\n      finishedRace.finish = race.getFinishResult(); //points calculation\n\n      for (var i = 0; i < results.length; i++) {\n        var playerName = results[i].playerName;\n        if (!standings[playerName]) standings[playerName] = 0;\n        standings[playerName] += _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.RACE_POINTS_MAP[i];\n      }\n\n      this._setNextRace();\n    }\n  }, {\n    key: \"_setNextRace\",\n    value: function _setNextRace() {\n      var _iterator3 = _createForOfIteratorHelper(this.raceCalendar),\n          _step3;\n\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var race = _step3.value;\n\n          if (race.status === _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.RACE_STATUS.NOT_STARTED) {\n            race.status = _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.RACE_STATUS.RACE_NEXT;\n            return;\n          }\n        } // if no more races left - finish the season\n\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n\n      this.state = _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.RACE_STATUS.FINISHED;\n    }\n  }, {\n    key: \"getNextRace\",\n    value: function getNextRace() {\n      var _iterator4 = _createForOfIteratorHelper(this.raceCalendar),\n          _step4;\n\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var race = _step4.value;\n\n          if (race.status === _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.RACE_STATUS.RACE_NEXT) {\n            return race;\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n    }\n  }, {\n    key: \"getRaceList\",\n    value: function getRaceList() {\n      return this.raceCalendar;\n    }\n  }, {\n    key: \"getRaceById\",\n    value: function getRaceById(raceId) {\n      return this.raceCalendar.find(function (race) {\n        return race.id === raceId;\n      });\n    }\n  }]);\n\n  return Championship;\n}();\n\n//# sourceURL=webpack://bt2018/./js/controller/championship.js?");

/***/ }),

/***/ "./js/data.js":
/*!********************!*\
  !*** ./js/data.js ***!
  \********************/
/*! namespace exports */
/*! export generateTeams [provided] [no usage info] [missing usage info prevents renaming] */
/*! export raceTypes [provided] [no usage info] [missing usage info prevents renaming] */
/*! export racesData [provided] [no usage info] [missing usage info prevents renaming] */
/*! export teamData [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"raceTypes\": () => /* binding */ raceTypes,\n/* harmony export */   \"teamData\": () => /* binding */ teamData,\n/* harmony export */   \"racesData\": () => /* binding */ racesData,\n/* harmony export */   \"generateTeams\": () => /* binding */ generateTeams\n/* harmony export */ });\n/* harmony import */ var _model_player_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./model/player.js */ \"./js/model/player.js\");\n/* harmony import */ var _constants_constants_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants/constants.js */ \"./js/constants/constants.js\");\n/* harmony import */ var _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants/waypoints.js */ \"./js/constants/waypoints.js\");\n\n\n\n\nfunction getData() {\n  return axios.get(\"http://localhost:3000/data\");\n}\n\nvar debugProfiler = {};\nvar CONSTANT = {\n  PENALTY_TYPE: {\n    LAP: 1,\n    MINUTE: 0\n  },\n  RACE_START_TYPE: {\n    ALL: 1,\n    SEPARATE: 2,\n    PURSUIT: 3,\n    RELAY: 4\n  },\n  //AI behaviour constants\n  AI: {\n    AGGRESSIVE: [50, 25, 25],\n    WEAK: [25, 25, 50],\n    NORMAL: [33, 34, 33]\n  },\n  RUNSTATE: {\n    NORMAL: 0,\n    EASE: 1,\n    PUSHING: 2\n  },\n  START_TIME_INTERVAL: 30,\n  // in seconds\n  PURSUIT_PLAYERS_NUM: 60,\n  PENALTY_LAP_LENGTH: 150,\n  PENALTY_MINUTE: 100,\n  BASE_SPEED_MOD: 0.05\n};\nObject.freeze(CONSTANT);\nvar raceTypes = {\n  sprint_men: {\n    type: \"Sprint\",\n    name: \"Men 10km Sprint\",\n    gender: _constants_constants_js__WEBPACK_IMPORTED_MODULE_1__.GENDER.MEN,\n    waypoints: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.WAYPOINTS_10KM_LONG,\n    ranges: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.RANGES_10KM_LONG,\n    lapLength: 10000 / 3\n  },\n  sprint_women: {\n    type: \"Sprint\",\n    name: \"Women 7.5km Sprint\",\n    gender: _constants_constants_js__WEBPACK_IMPORTED_MODULE_1__.GENDER.WOMEN,\n    waypoints: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.WAYPOINTS_7_5KM,\n    ranges: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.RANGES_7_5KM,\n    lapLength: 2500\n  },\n  individual_men: {\n    type: \"Individual\",\n    name: \"Men 20km Individual\",\n    gender: _constants_constants_js__WEBPACK_IMPORTED_MODULE_1__.GENDER.MEN,\n    waypoints: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.WAYPOINTS_20KM,\n    ranges: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.RANGES_20KM,\n    lapLength: 4000\n  },\n  individual_women: {\n    type: \"Individual\",\n    name: \"Women 15km Individual\",\n    gender: _constants_constants_js__WEBPACK_IMPORTED_MODULE_1__.GENDER.WOMEN,\n    waypoints: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.WAYPOINTS_15KM,\n    ranges: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.RANGES_15KM,\n    lapLength: 3000\n  },\n  pursuit_men: {\n    type: \"Pursuit\",\n    name: \"Men 12.5km Pursuit\",\n    gender: _constants_constants_js__WEBPACK_IMPORTED_MODULE_1__.GENDER.MEN,\n    waypoints: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.WAYPOINTS_12_5KM,\n    ranges: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.RANGES_12_5KM,\n    lapLength: 2500\n  },\n  pursuit_women: {\n    type: \"Pursuit\",\n    name: \"Women 10km Pursuit\",\n    gender: _constants_constants_js__WEBPACK_IMPORTED_MODULE_1__.GENDER.WOMEN,\n    waypoints: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.WAYPOINTS_10KM_SHORT,\n    ranges: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.RANGES_10KM_SHORT,\n    lapLength: 2000\n  },\n  massStart_men: {\n    type: \"Mass-start\",\n    name: \"Men 15km Mass-start\",\n    gender: _constants_constants_js__WEBPACK_IMPORTED_MODULE_1__.GENDER.MEN,\n    waypoints: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.WAYPOINTS_15KM,\n    ranges: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.RANGES_15KM,\n    lapLength: 3000\n  },\n  massStart_women: {\n    type: \"Mass-start\",\n    name: \"Women 12.5km Mass-start\",\n    gender: _constants_constants_js__WEBPACK_IMPORTED_MODULE_1__.GENDER.WOMEN,\n    waypoints: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.WAYPOINTS_12_5KM,\n    ranges: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.RANGES_12_5KM,\n    lapLength: 2500\n  },\n  relay_men: {\n    type: \"Relay\",\n    name: \"Men 4x7.5km Relay\",\n    gender: _constants_constants_js__WEBPACK_IMPORTED_MODULE_1__.GENDER.MEN,\n    waypoints: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.WAYPOINTS_7_5KM,\n    ranges: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.RANGES_7_5KM,\n    lapLength: 2500\n  },\n  relay_women: {\n    type: \"Relay\",\n    name: \"Women 4x6km Relay\",\n    gender: _constants_constants_js__WEBPACK_IMPORTED_MODULE_1__.GENDER.WOMEN,\n    waypoints: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.WAYPOINTS_6KM,\n    ranges: _constants_waypoints_js__WEBPACK_IMPORTED_MODULE_2__.RANGES_6KM,\n    lapLength: 2000\n  }\n}; //Season consists of 9 stages and 1 World Cup event\n\nvar teamData = [{\n  name: \"Germany\",\n  shortName: \"GER\",\n  flag: \"\",\n  colors: [\"#000000\", \"#FFD000\"],\n  raceQuota: {\n    men: 6,\n    women: 6\n  },\n  stageQuota: {\n    men: 8,\n    women: 8\n  }\n}, {\n  name: \"Italy\",\n  shortName: \"ITA\",\n  flag: \"\",\n  colors: [\"#0f8a00\", \"#ffffff\"],\n  raceQuota: {\n    men: 5,\n    women: 5\n  },\n  stageQuota: {\n    men: 7,\n    women: 7\n  }\n}, {\n  name: \"Ukraine\",\n  shortName: \"UKR\",\n  flag: \"\",\n  colors: [\"#ffcc00\", \"#030bff\"],\n  raceQuota: {\n    men: 5,\n    women: 5\n  },\n  stageQuota: {\n    men: 7,\n    women: 7\n  }\n}, {\n  name: \"Belarus\",\n  shortName: \"BLR\",\n  flag: \"\",\n  colors: [\"#FFFFFF\", \"#008000\"],\n  raceQuota: {\n    men: 5,\n    women: 4\n  },\n  stageQuota: {\n    men: 7,\n    women: 6\n  }\n}, {\n  name: \"Norway\",\n  shortName: \"NOR\",\n  flag: \"\",\n  colors: [\"#960c00\", \"#FFFFFF\"],\n  raceQuota: {\n    men: 6,\n    women: 6\n  },\n  stageQuota: {\n    men: 8,\n    women: 8\n  }\n}, {\n  name: \"Austria\",\n  shortName: \"AUT\",\n  flag: \"\",\n  colors: [\"#ff230f\", \"#ffffff\"],\n  raceQuota: {\n    men: 6,\n    women: 5\n  },\n  stageQuota: {\n    men: 8,\n    women: 7\n  }\n}, {\n  name: \"France\",\n  shortName: \"FRA\",\n  flag: \"\",\n  colors: [\"#0021db\", \"#FFFFFF\"],\n  raceQuota: {\n    men: 6,\n    women: 6\n  },\n  stageQuota: {\n    men: 8,\n    women: 8\n  }\n}, {\n  name: \"Finland\",\n  shortName: \"FIN\",\n  flag: \"\",\n  colors: [\"#FFFFFF\", \"#1486ff\"],\n  raceQuota: {\n    men: 3,\n    women: 5\n  },\n  stageQuota: {\n    men: 4,\n    women: 6\n  }\n}, {\n  name: \"Romania\",\n  shortName: \"ROM\",\n  flag: \"\",\n  colors: [\"#FCD116\", \"#CE1126\"],\n  raceQuota: {\n    men: 2,\n    women: 2\n  },\n  stageQuota: {\n    men: 4,\n    women: 4\n  }\n}, {\n  name: \"Sweden\",\n  shortName: \"SWE\",\n  flag: \"\",\n  colors: [\"#006aa8\", \"#fecb00\"],\n  raceQuota: {\n    men: 5,\n    women: 6\n  },\n  stageQuota: {\n    men: 7,\n    women: 8\n  }\n}, {\n  name: \"Bulgaria\",\n  shortName: \"BUL\",\n  flag: \"\",\n  colors: [\"#ace12f\", \"#000000\"],\n  raceQuota: {\n    men: 4,\n    women: 3\n  },\n  stageQuota: {\n    men: 6,\n    women: 5\n  }\n}, {\n  name: \"Canada\",\n  shortName: \"CAN\",\n  flag: \"\",\n  colors: [\"#ffb3fc\", \"#ffffff\"],\n  raceQuota: {\n    men: 4,\n    women: 4\n  },\n  stageQuota: {\n    men: 6,\n    women: 6\n  }\n}, {\n  name: \"Switzerland\",\n  shortName: \"SUI\",\n  flag: \"\",\n  colors: [\"#919191\", \"#ffffff\"],\n  raceQuota: {\n    men: 4,\n    women: 5\n  },\n  stageQuota: {\n    men: 6,\n    women: 7\n  }\n}, {\n  name: \"Poland\",\n  shortName: \"POL\",\n  flag: \"\",\n  colors: [\"#ffffff\", \"#FF0000\"],\n  raceQuota: {\n    men: 4,\n    women: 5\n  },\n  stageQuota: {\n    men: 6,\n    women: 7\n  }\n}, {\n  name: \"Russia\",\n  shortName: \"RUS\",\n  flag: \"\",\n  colors: [\"#3399ff\", \"#FFFFFF\"],\n  raceQuota: {\n    men: 6,\n    women: 6\n  },\n  stageQuota: {\n    men: 8,\n    women: 8\n  }\n}, {\n  name: \"USA\",\n  shortName: \"USA\",\n  flag: \"\",\n  colors: [\"#6699ff\", \"#ff1a1a\"],\n  raceQuota: {\n    men: 4,\n    women: 4\n  },\n  stageQuota: {\n    men: 6,\n    women: 6\n  }\n}, {\n  name: \"Czech Rep.\",\n  shortName: \"CZE\",\n  flag: \"\",\n  colors: [\"#ff1a1a\", \"#0000ff\"],\n  raceQuota: {\n    men: 5,\n    women: 5\n  },\n  stageQuota: {\n    men: 7,\n    women: 7\n  }\n}, {\n  name: \"Slovenia\",\n  shortName: \"SLO\",\n  flag: \"\",\n  colors: [\"#ffff99\", \"#000000\"],\n  raceQuota: {\n    men: 4,\n    women: 3\n  },\n  stageQuota: {\n    men: 6,\n    women: 5\n  }\n}, {\n  name: \"Slovakia\",\n  shortName: \"SVK\",\n  flag: \"\",\n  colors: [\"#ff00ff\", \"#ffffff\"],\n  raceQuota: {\n    men: 3,\n    women: 3\n  },\n  stageQuota: {\n    men: 5,\n    women: 5\n  }\n}, {\n  name: \"Estonia\",\n  shortName: \"EST\",\n  flag: \"\",\n  colors: [\"#000000\", \"#ffffff\"],\n  raceQuota: {\n    men: 3,\n    women: 4\n  },\n  stageQuota: {\n    men: 5,\n    women: 6\n  }\n}];\nvar mockData = {\n  teamDesc: \" is a potent team with some strong players as well as fresh growing stars. Player should rely on skill in order to bring his team to victory.\"\n};\nvar racesData = [{\n  name: \"Estersund\",\n  raceMap: [// raceTypes.relay_women,\n  raceTypes.sprint_men, raceTypes.sprint_women, raceTypes.pursuit_men, raceTypes.pursuit_women // raceTypes.relay_men,\n  ]\n}, {\n  name: \"Pokljuka\",\n  raceMap: [raceTypes.individual_men, raceTypes.individual_women, raceTypes.sprint_men, raceTypes.sprint_women]\n}, {\n  name: \"Annecy\",\n  raceMap: [raceTypes.sprint_men, raceTypes.sprint_women, raceTypes.pursuit_men, raceTypes.pursuit_women, raceTypes.massStart_men, raceTypes.massStart_women]\n}]; //don't like it\n\nvar generateTeams = function generateTeams() {\n  // generate teams and players\n  var players = [];\n  var playerCount = 0;\n\n  for (var i = 0; i < teamData.length; i++) {\n    var team = teamData[i];\n\n    for (var j = 0; j < team.stageQuota.men; j++) {\n      playerCount++;\n      var newPlayer = new _model_player_js__WEBPACK_IMPORTED_MODULE_0__.Player({\n        id: playerCount,\n        gender: _constants_constants_js__WEBPACK_IMPORTED_MODULE_1__.GENDER.MEN,\n        team: team.shortName,\n        colors: team.colors\n      });\n      players.push(newPlayer);\n    }\n\n    for (var _j = 0; _j < team.stageQuota.women; _j++) {\n      playerCount++;\n\n      var _newPlayer = new _model_player_js__WEBPACK_IMPORTED_MODULE_0__.Player({\n        id: playerCount,\n        gender: _constants_constants_js__WEBPACK_IMPORTED_MODULE_1__.GENDER.WOMEN,\n        team: team.shortName,\n        colors: team.colors\n      });\n\n      players.push(_newPlayer);\n    }\n  }\n\n  return players;\n};\n\n//# sourceURL=webpack://bt2018/./js/data.js?");

/***/ }),

/***/ "./js/game.js":
/*!********************!*\
  !*** ./js/game.js ***!
  \********************/
/*! namespace exports */
/*! export Game [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Game\": () => /* binding */ Game\n/* harmony export */ });\n/* harmony import */ var _data_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./data.js */ \"./js/data.js\");\n/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./utils/Utils.js */ \"./js/utils/Utils.js\");\n/* harmony import */ var _model_Team_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./model/Team.js */ \"./js/model/Team.js\");\n/* harmony import */ var _controller_SprintRace_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./controller/SprintRace.js */ \"./js/controller/SprintRace.js\");\n/* harmony import */ var _controller_PursuitRace_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./controller/PursuitRace.js */ \"./js/controller/PursuitRace.js\");\n/* harmony import */ var _controller_RelayRace_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./controller/RelayRace.js */ \"./js/controller/RelayRace.js\");\n/* harmony import */ var _controller_IndividualRace_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./controller/IndividualRace.js */ \"./js/controller/IndividualRace.js\");\n/* harmony import */ var _controller_MassStartRace_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./controller/MassStartRace.js */ \"./js/controller/MassStartRace.js\");\n/* harmony import */ var _constants_constants_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./constants/constants.js */ \"./js/constants/constants.js\");\n/* harmony import */ var _controller_ViewController_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./controller/ViewController.js */ \"./js/controller/ViewController.js\");\n/* harmony import */ var _view_Graphic2D_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./view/Graphic2D.js */ \"./js/view/Graphic2D.js\");\n/* harmony import */ var _controller_championship_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./controller/championship.js */ \"./js/controller/championship.js\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar oldTimeStamp = 0;\nvar numberResultsShown = 20;\nvar gameSpeed = 50;\nvar tickCounter = 0;\nvar domRedrawCounter = 0;\nvar Game = /*#__PURE__*/function () {\n  function Game() {\n    _classCallCheck(this, Game);\n\n    // REDUNDANT CODE\n    // this.gameSpeed = 1000 / 60; //50 ticks per second\n    // this.gameTimer;\n    // this.gameRunning = false;\n    // this.playerTeam = \"\";\n    // this.selectedGender = \"men\";\n    this.userTeam = \"UKR\"; //ui options\n\n    this.selectedResults = null;\n    this.selectedResultsPage = 0;\n    this.selectedPlayer = null; //game data\n\n    this.teams = [];\n    this.players = [];\n    this.totalPlayerCount = 0; //temp\n\n    this.race = null; //graphics\n\n    this.view = new _controller_ViewController_js__WEBPACK_IMPORTED_MODULE_7__.View();\n    this.canvas = new _view_Graphic2D_js__WEBPACK_IMPORTED_MODULE_8__.Graphic2D(); //game state\n\n    this.stopTimer = null;\n    this.paused = false; //initializations\n\n    this.initGameData(); // tmp generator\n\n    this.initChampionship(); // this.view.renderRaceList(this.championship.getRaceList());\n\n    this.view.hideAllPanels();\n    this.view.showPanel(_controller_ViewController_js__WEBPACK_IMPORTED_MODULE_7__.VIEW_PANELS.PANEL_RACE);\n  }\n\n  _createClass(Game, [{\n    key: \"initChampionship\",\n    value: function initChampionship() {\n      this.championship = new _controller_championship_js__WEBPACK_IMPORTED_MODULE_9__.Championship();\n      this.championship.createRaceList(_data_js__WEBPACK_IMPORTED_MODULE_0__.racesData);\n    }\n  }, {\n    key: \"initGameData\",\n    value: function initGameData() {\n      this.teams = _data_js__WEBPACK_IMPORTED_MODULE_0__.teamData.map(function (team) {\n        return new _model_Team_js__WEBPACK_IMPORTED_MODULE_10__.TeamAI(team);\n      });\n      this.players = _data_js__WEBPACK_IMPORTED_MODULE_0__.generateTeams(); //temporary players generator\n    }\n  }, {\n    key: \"runGame\",\n    value: function runGame(timeStamp) {\n      // main game loop\n      //refactored with rAF X2\n      var gameTick = timeStamp - oldTimeStamp; //update timer\n\n      oldTimeStamp = timeStamp; // UPDATE\n\n      this.race.run(gameTick * gameSpeed); //CANVAS RENDER\n\n      var racePlayers = this.race.getPlayers();\n      this.canvas.drawMapBeta(this.race.track);\n      this.canvas.drawPlayersBeta(this.getPlayerCoords(racePlayers));\n      this.canvas.drawGameTick(gameTick); // FPS counter\n\n      if (++tickCounter === 14) {\n        this.showCurrentResults();\n        this.showPlayerControls();\n        tickCounter = 0;\n      }\n\n      if (++domRedrawCounter === 70) {\n        this.view.updateResultsControls(this.race.getWaypointResults(this.selectedResults).length);\n        domRedrawCounter = 0;\n      } //REQUEST NEXT FRAME\n\n\n      this.stopTimer = requestAnimationFrame(this.runGame.bind(this)); //FINISH THE RACE\n\n      if (this.race.raceFinished) {\n        cancelAnimationFrame(this.stopTimer);\n        this.canvas.finalFPSDrops(); // total FPS drops counter\n\n        this.endRace();\n      }\n    }\n  }, {\n    key: \"showCurrentResults\",\n    value: function showCurrentResults() {\n      var resOffset = this.selectedResultsPage * numberResultsShown;\n      var resLength = resOffset + numberResultsShown;\n\n      if (this.selectedResults === 0) {\n        var startList = this.race.players.slice(resOffset, resLength).map(function (player, index) {\n          return {\n            place: index + 1 + resOffset,\n            playerName: player.name,\n            playerNumber: player.number,\n            team: player.team,\n            timeString: _utils_Utils_js__WEBPACK_IMPORTED_MODULE_11__.Utils.convertToMinutes(player.startTimer / 1000)\n          };\n        });\n        this.canvas.drawIntermediateResults(startList, resOffset);\n        return;\n      }\n\n      var results = this.race.getWaypointResults(this.selectedResults).slice(resOffset, resLength).map(function (result, i) {\n        return _objectSpread(_objectSpread({}, result), {}, {\n          place: i + 1 + resOffset\n        });\n      });\n      this.canvas.drawIntermediateResults(results, resOffset);\n    }\n  }, {\n    key: \"showPlayerControls\",\n    value: function showPlayerControls() {\n      var _this = this;\n\n      var userPlayers = this.race.players.filter(function (player) {\n        return player.team === _this.userTeam;\n      }).map(function (player) {\n        var prevWaypoint = _this.race.getPrevWaypointId(player.distance);\n\n        var prevWaypointData = _this.race.getLastWaypointResult(player.name, prevWaypoint);\n\n        return _objectSpread({\n          name: player.name,\n          team: player.team,\n          number: player.number,\n          distance: player.distance,\n          lastWaypoint: _this.race.getLastWaypointName(prevWaypoint),\n          time: player.status === _constants_constants_js__WEBPACK_IMPORTED_MODULE_6__.PLAYER_STATUS.FINISHED ? \"\" : _this.race.getPlayerTime(player.startTimer)\n        }, prevWaypointData);\n      });\n      this.canvas.drawPlayerControls(userPlayers);\n    }\n  }, {\n    key: \"simulateRace\",\n    value: function simulateRace() {\n      do {\n        this.race.run(100);\n      } while (!this.race.raceFinished);\n\n      if (this.stopTimer) cancelAnimationFrame(this.stopTimer);\n      this.endRace();\n    }\n  }, {\n    key: \"pauseGame\",\n    value: function pauseGame() {\n      var button = document.querySelector(\"#pause\");\n\n      if (!this.paused) {\n        //stop\n        this.paused = true;\n        cancelAnimationFrame(this.stopTimer);\n        button.innerText = \"Resume\";\n      } else {\n        //resume\n        this.paused = false;\n        oldTimeStamp = performance.now();\n        requestAnimationFrame(this.runGame.bind(this));\n        button.innerText = \"Pause\";\n      }\n    }\n  }, {\n    key: \"getPlayerCoords\",\n    value: function getPlayerCoords(players) {\n      var _this2 = this;\n\n      var playersData = players.map(function (player) {\n        if (player.status === _constants_constants_js__WEBPACK_IMPORTED_MODULE_6__.PLAYER_STATUS.NOT_STARTED || player.status === _constants_constants_js__WEBPACK_IMPORTED_MODULE_6__.PLAYER_STATUS.FINISHED) {\n          return false;\n        }\n\n        var playerData = {\n          name: player.name,\n          team: player.team,\n          number: player.number,\n          colors: player.colors,\n          range: player.currentRange,\n          rangeTimer: player.shootingTimer > 0,\n          status: player.status\n        };\n\n        if (player.status === _constants_constants_js__WEBPACK_IMPORTED_MODULE_6__.PLAYER_STATUS.PENALTY) {\n          playerData.coords = _this2.race.track.getPenaltyCoordinates(player.penalty);\n        } else {\n          playerData.coords = _this2.race.track.getCoordinates(player.distance);\n        }\n\n        return playerData;\n      });\n      return playersData;\n    }\n  }, {\n    key: \"getShootingPlayers\",\n    value: function getShootingPlayers(players) {\n      var shootingPlayers = players.filter(function (player) {\n        return player.status === _constants_constants_js__WEBPACK_IMPORTED_MODULE_6__.PLAYER_STATUS.SHOOTING || player.shootingTimer > 0;\n      }).map(function (player) {\n        return {\n          name: player.name,\n          range: player.currentRange,\n          team: player.team,\n          delayed: player.shootingTimer > 0\n        };\n      });\n      return shootingPlayers;\n    }\n  }, {\n    key: \"onSimulateRaceClick\",\n    value: function onSimulateRaceClick() {\n      if (this.championship.state === _constants_constants_js__WEBPACK_IMPORTED_MODULE_6__.RACE_STATUS.FINISHED) {\n        alert(\"Season over! Please start a new one\");\n        return;\n      }\n\n      this.prepareNextRace();\n      this.simulateRace();\n    }\n  }, {\n    key: \"onStartRaceClick\",\n    value: function () {\n      var _onStartRaceClick = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.championship.state === _constants_constants_js__WEBPACK_IMPORTED_MODULE_6__.RACE_STATUS.FINISHED)) {\n                  _context.next = 3;\n                  break;\n                }\n\n                alert(\"Season over! Please start a new one\");\n                return _context.abrupt(\"return\");\n\n              case 3:\n                _context.next = 5;\n                return this.prepareNextRace();\n\n              case 5:\n                this.startNextRace();\n\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function onStartRaceClick() {\n        return _onStartRaceClick.apply(this, arguments);\n      }\n\n      return onStartRaceClick;\n    }()\n  }, {\n    key: \"prepareNextRace\",\n    value: function () {\n      var _prepareNextRace = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var nextRace, playerRoster;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                // get next race definition from championship\n                nextRace = this.championship.getNextRace();\n                playerRoster = []; // get players from teamAI as per quotas\n\n                _context2.t0 = nextRace.raceType;\n                _context2.next = _context2.t0 === \"Individual\" ? 5 : _context2.t0 === \"Mass-start\" ? 8 : _context2.t0 === \"Sprint\" ? 11 : _context2.t0 === \"Pursuit\" ? 14 : _context2.t0 === \"Relay\" ? 17 : 20;\n                break;\n\n              case 5:\n                playerRoster = this.aiSelectRacePlayers(nextRace);\n                this.race = new _controller_IndividualRace_js__WEBPACK_IMPORTED_MODULE_4__.IndividualRace();\n                return _context2.abrupt(\"break\", 21);\n\n              case 8:\n                playerRoster = this.aiSelectMassStartPlayers(nextRace);\n                this.race = new _controller_MassStartRace_js__WEBPACK_IMPORTED_MODULE_5__.MassStartRace();\n                return _context2.abrupt(\"break\", 21);\n\n              case 11:\n                playerRoster = this.aiSelectRacePlayers(nextRace);\n                this.race = new _controller_SprintRace_js__WEBPACK_IMPORTED_MODULE_1__.SprintRace();\n                return _context2.abrupt(\"break\", 21);\n\n              case 14:\n                playerRoster = this.aiSelectPursuitPlayers(nextRace);\n                this.race = new _controller_PursuitRace_js__WEBPACK_IMPORTED_MODULE_2__.PursuitRace();\n                return _context2.abrupt(\"break\", 21);\n\n              case 17:\n                playerRoster = this.aiSelectRelayPlayers(nextRace);\n                this.race = new _controller_RelayRace_js__WEBPACK_IMPORTED_MODULE_3__.RelayRace();\n                return _context2.abrupt(\"break\", 21);\n\n              case 20:\n                console.log(\"PrepareNextRace() error: Couldn't find racetype\");\n\n              case 21:\n                _context2.next = 23;\n                return this.race.initRaceData(nextRace);\n\n              case 23:\n                this.race.initPlayers(playerRoster);\n\n              case 24:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function prepareNextRace() {\n        return _prepareNextRace.apply(this, arguments);\n      }\n\n      return prepareNextRace;\n    }()\n  }, {\n    key: \"startNextRace\",\n    value: function startNextRace() {\n      // start predefined race\n      var race = this.race; // READY!\n\n      oldTimeStamp = performance.now(); // SET!\n\n      this.selectedResults = 0;\n      this.view.setupRaceView(this.race);\n      this.canvas.drawMapBeta(race.track); // GO!!!\n\n      requestAnimationFrame(this.runGame.bind(this));\n    }\n  }, {\n    key: \"endRace\",\n    value: function endRace() {\n      console.log(\"race finished\");\n      this.view.renderShortResults(this.race.getFinishResult());\n      this.championship.onRaceFinish(this.race);\n      delete this.race.players; // this.showChampionshipStandings();\n\n      if (this.championship.state === _constants_constants_js__WEBPACK_IMPORTED_MODULE_6__.RACE_STATUS.FINISHED) {\n        console.log(\"Season over\");\n        this.showChampionshipStandings();\n      }\n    }\n  }, {\n    key: \"showChampionshipStandings\",\n    value: function showChampionshipStandings() {\n      var _this3 = this;\n\n      var races = this.championship.getRaceList();\n      var standingsMen = this.championship.getPlayersStandings(_constants_constants_js__WEBPACK_IMPORTED_MODULE_6__.GENDER.MEN, 20).map(function (result) {\n        var player = _this3.getPlayerByName(result.name);\n\n        return {\n          id: player.id,\n          name: player.name,\n          points: result.points,\n          team: player.team\n        };\n      });\n      var standingsWomen = this.championship.getPlayersStandings(_constants_constants_js__WEBPACK_IMPORTED_MODULE_6__.GENDER.WOMEN, 20).map(function (result) {\n        var player = _this3.getPlayerByName(result.name);\n\n        return {\n          id: player.id,\n          name: player.name,\n          points: result.points,\n          team: player.team\n        };\n      });\n      this.view.renderChampionshipStandings(races, standingsMen, standingsWomen);\n    }\n  }, {\n    key: \"showPlayersList\",\n    value: function showPlayersList() {\n      if (this.championship.state === _constants_constants_js__WEBPACK_IMPORTED_MODULE_6__.RACE_STATUS.FINISHED) {\n        alert(\"Season over! Please start a new one\");\n        return;\n      }\n\n      this.prepareNextRace();\n      this.simulateRace();\n    } // HELPER FUNCTIONS\n\n  }, {\n    key: \"getPlayerTeam\",\n    value: function getPlayerTeam(player) {\n      return this.teams.find(function (team) {\n        return team.shortName === player.team;\n      });\n    }\n  }, {\n    key: \"getPlayerByName\",\n    value: function getPlayerByName(name) {\n      return this.players.find(function (player) {\n        return player.name === name;\n      });\n    } // PREPARING THE ROSTER FOR NEXT RACE\n\n  }, {\n    key: \"aiSelectRacePlayers\",\n    value: function aiSelectRacePlayers(nextRace) {\n      var _this4 = this;\n\n      return this.teams.map(function (team) {\n        return team.getNextRacePlayers(_this4.players, nextRace.raceGender);\n      }).flat();\n    }\n  }, {\n    key: \"aiSelectRelayPlayers\",\n    value: function aiSelectRelayPlayers(nextRace) {\n      var _this5 = this;\n\n      return this.teams.map(function (team) {\n        return team.getNextRelayPlayers(_this5.players, nextRace.raceGender);\n      });\n    }\n  }, {\n    key: \"aiSelectMassStartPlayers\",\n    value: function aiSelectMassStartPlayers(nextRace) {\n      var _this6 = this;\n\n      var standings = this.championship.getPlayersStandings(nextRace.raceGender).slice(0, 30);\n      var eligiblePlayers = standings.map(function (result) {\n        return _this6.getPlayerByName(result.name);\n      });\n      return eligiblePlayers;\n    }\n  }, {\n    key: \"aiSelectPursuitPlayers\",\n    value: function aiSelectPursuitPlayers(nextRace) {\n      var _this7 = this;\n\n      var stage = nextRace.stageName;\n      var calendar = this.championship.getRaceList();\n      var prevSprint = calendar.find(function (race) {\n        return race.stageName === stage && race.raceType === \"Sprint\" && race.raceGender === nextRace.raceGender;\n      });\n      if (!prevSprint.finish) throw \"ERROR: Sprint race has no results! Check race calendar\";\n      var eligiblePlayers = prevSprint.finish.slice(0, 60).map(function (result) {\n        var player = _this7.getPlayerByName(result.playerName);\n\n        player.startTimer = result.time;\n        return player;\n      });\n      return eligiblePlayers;\n    } // UI DOM EVENTS\n\n  }, {\n    key: \"onResultSelect\",\n    value: function onResultSelect(event) {\n      var waypointId = event.target.name;\n      this.selectedResults = +waypointId;\n      this.selectedResultsPage = 0;\n      this.showCurrentResults();\n    }\n  }, {\n    key: \"onResultPageSelect\",\n    value: function onResultPageSelect(event) {\n      if (event.target.name === \"next\") {\n        this.selectedResultsPage++;\n      } else if (event.target.name === \"prev\") {\n        this.selectedResultsPage--;\n      } else {\n        this.selectedResultsPage = event.target.name;\n      }\n\n      if (this.selectedResultsPage < 0) {\n        this.selectedResultsPage = 0;\n      }\n\n      this.showCurrentResults();\n    } // CUSTOM SCRIPT\n\n  }, {\n    key: \"simulatePlayer\",\n    value: function simulatePlayer() {\n      //debugging function\n      this.prepareNextRace();\n      this.canvas.drawMapBeta(this.race.track);\n      this.canvas.drawPlayersBeta([{\n        name: \"A\",\n        number: 1,\n        coords: this.race.track.getPenaltyCoordinates(120)\n      }]); // -- debugger for player placement\n\n      this.canvas.drawPlayersBeta([{\n        name: \"B\",\n        number: 2,\n        coords: this.race.track.getCoordinates(9749)\n      }]); // -- debugger for player placement\n\n      this.canvas.drawPlayersBeta([{\n        name: \"C\",\n        number: 3,\n        coords: this.race.track.getCoordinates(9750)\n      }]); // -- debugger for player placement\n\n      this.canvas.drawPlayersBeta([{\n        name: \"E\",\n        number: 4,\n        coords: this.race.track.getCoordinates(9751)\n      }]); // -- debugger for player placement\n\n      this.canvas.drawPlayersBeta([{\n        name: \"F\",\n        number: 5,\n        coords: this.race.track.getCoordinates(9790)\n      }]); // -- debugger for player placement\n      // const { race } = this;\n      // oldTimeStamp = performance.now();\n      //START RACE\n      // window.requestAnimationFrame(this.runGame.bind(this));\n      // this.canvas.drawPlayersBeta([{ name: 'A', coords: this.race.track.getFinishCoordinates(14900) }]); // -- debugger for player placement\n      // this.view.renderProgress(this.race);\n      //GENERATE TEAMS\n      // this.generateTeams();\n      // this.view.renderPlayerList(this.players);\n      // this.view.renderTeamList(this.teams);\n      // console.log(this.players);\n    } // ********************************************************************\n    // OBSOLETE GOWNO for refactoring\n    // render() {\n    //   this.view.currentScreen.update();\n    // }\n    // startRace() {\n    //   var race = this.getCurrentRace();\n    //   race.setRaceStatus(\"Started\");\n    //   this.runGame();\n    // }\n    // finishRace() {\n    //   var race = this.getCurrentRace(),\n    //     championship = this.championship,\n    //     nextRace;\n    //   race.setRaceStatus(\"Finished\");\n    //   nextRace = championship.prepareNextRace();\n    //   if (!nextRace) {\n    //     championship.prepareNextStage();\n    //     changeTab(\"championship\");\n    //     return;\n    //   }\n    //   changeTab(\"results\"); // TEMP\n    // }\n    // getPlayerTeam() {\n    //   return this.playerTeam.name;\n    // }\n    // getTeams() {\n    //   return this.teams;\n    // }\n    // getPlayers() {\n    //   return this.championship.getPlayers();\n    // }\n    // getViewGender() {\n    //   return this.selectedGender;\n    // }\n    // getCurrentRace() {\n    //   return this.championship.currentRace;\n    // }\n    // getChampionship() {\n    //   return this.championship;\n    // }\n    // onChangeTeamSelect(e) {\n    // var teamName = e.target.textContent;\n    // this.startNewChampionship(); //should go to Start button\n    // for (var i = 0; i < this.teams.length; i++) {\n    //   if (this.teams[i].name == teamName) {\n    //     this.playerTeam = this.teams[i];\n    //     this.view.selectTeamDetails(this.teams[i]);\n    //   }\n    // }\n    // if (this.playerTeam == '') {\n    //   console.log('Selected team not defined');\n    // }\n    // }\n    // onChangeViewGender(e) {\n    //   this.selectedGender = e.target.getAttribute(\"data\");\n    //   refreshTab(\"championship\");\n    // }\n\n  }]);\n\n  return Game;\n}();\n\n//# sourceURL=webpack://bt2018/./js/game.js?");

/***/ }),

/***/ "./js/index.js":
/*!*********************!*\
  !*** ./js/index.js ***!
  \*********************/
/*! namespace exports */
/*! exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _App__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./App */ \"./js/App.js\");\n\n\n//# sourceURL=webpack://bt2018/./js/index.js?");

/***/ }),

/***/ "./js/model/Team.js":
/*!**************************!*\
  !*** ./js/model/Team.js ***!
  \**************************/
/*! namespace exports */
/*! export TeamAI [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"TeamAI\": () => /* binding */ TeamAI\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar TeamAI = /*#__PURE__*/function () {\n  function TeamAI(team) {\n    _classCallCheck(this, TeamAI);\n\n    this.name = team.name;\n    this.shortName = team.shortName;\n    this.colors = team.colors;\n    this.flag = team.flag;\n    this.description = team.description;\n    this.raceQuota = team.raceQuota;\n    this.stageQuota = team.stageQuota;\n    this.players = [];\n    this.reservePlayers = [];\n    this.playerControlled = false;\n  }\n\n  _createClass(TeamAI, [{\n    key: \"getColors\",\n    value: function getColors() {\n      return this.colors;\n    }\n  }, {\n    key: \"setPlayer\",\n    value: function setPlayer(player) {\n      player.team = this.name;\n      this.players.push(player);\n    }\n  }, {\n    key: \"setPlayerControlled\",\n    value: function setPlayerControlled() {\n      this.playerControlled = true;\n    }\n  }, {\n    key: \"getTeamPlayers\",\n    value: function getTeamPlayers(players) {\n      var _this = this;\n\n      return players.filter(function (player) {\n        return player.team === _this.shortName;\n      });\n    }\n  }, {\n    key: \"getMalePlayers\",\n    value: function getMalePlayers() {\n      return this.players.filter(function (player) {\n        return player.gender === \"male\";\n      });\n    }\n  }, {\n    key: \"getFemalePlayers\",\n    value: function getFemalePlayers() {\n      return this.players.filter(function (player) {\n        return player.gender === \"female\";\n      });\n    }\n  }, {\n    key: \"getNextRacePlayers\",\n    value: function getNextRacePlayers(players, gender) {\n      var myPlayers = this.getTeamPlayers(players).filter(function (player) {\n        return player.gender === gender;\n      });\n      var quota = gender === \"male\" ? this.raceQuota.men : this.raceQuota.women;\n      var playersWeight = this.weightPlayers(myPlayers).slice(0, quota);\n      return players.filter(function (player) {\n        return playersWeight.find(function (pw) {\n          return pw.id === player.id;\n        });\n      });\n    }\n  }, {\n    key: \"getNextRelayPlayers\",\n    value: function getNextRelayPlayers(players, gender) {\n      var myPlayers = this.getTeamPlayers(players).filter(function (player) {\n        return player.gender === gender;\n      });\n      if (myPlayers.length < 4) return;\n      var playersWeight = this.weightPlayers(myPlayers).slice(0, 4);\n      return {\n        name: this.shortName,\n        players: players.filter(function (player) {\n          return playersWeight.find(function (pw) {\n            return pw.id === player.id;\n          });\n        })\n      };\n    }\n  }, {\n    key: \"weightPlayers\",\n    value: function weightPlayers(players) {\n      // get best players as per race quota STR+ACC+SPD*2\n      return players.map(function (player) {\n        return {\n          id: player.id,\n          weight: player.accuracy + player.strength + player.baseSpeed * 2\n        };\n      }).sort(function (p1, p2) {\n        return p1.weight > p2.weight ? -1 : 1;\n      });\n    }\n  }, {\n    key: \"addPlayerToRace\",\n    value: function addPlayerToRace(player) {}\n  }]);\n\n  return TeamAI;\n}();\n\n//# sourceURL=webpack://bt2018/./js/model/Team.js?");

/***/ }),

/***/ "./js/model/player.js":
/*!****************************!*\
  !*** ./js/model/player.js ***!
  \****************************/
/*! namespace exports */
/*! export Player [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Player\": () => /* binding */ Player\n/* harmony export */ });\n/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/Utils.js */ \"./js/utils/Utils.js\");\n/* harmony import */ var _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants/constants.js */ \"./js/constants/constants.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\nvar Player = /*#__PURE__*/function () {\n  function Player(args) {\n    _classCallCheck(this, Player);\n\n    //base stats\n    this.id = args.id; //unique player ID\n    // this.baseSpeed = this.currentSpeed =\n    //   args.baseSpeed || args.gender === \"men\" ? Utils.rand(2600, 2200) / 100 : Utils.rand(2300, 1900) / 100; // km/h\n\n    this.gender = args.gender || \"men\";\n    this.name = args.name || \"Player \" + args.id;\n    this.team = args.team || \"Team 1\";\n    this.colors = args.colors || [];\n    this.baseSpeed = args.baseSpeed ? args.baseSpeed : this._getRandomSpeed();\n    this.currentSpeed = this.baseSpeed; // this.index = args.index;\n\n    this.accuracy = args.accuracy || _utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.Utils.rand(95, 65);\n    this.strength = args.strength || _utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.Utils.rand(95, 75);\n    this.stamina = args.stamina || _utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.Utils.rand(99, 30);\n    this.fatigue = 100;\n    this.technique = args.technique || _utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.Utils.rand(99, 50);\n    this.points = 0; //distance related\n\n    this.distance = 0;\n    this.penalty = 0;\n    this.penaltyTime = 0; //race related\n\n    this.number = null;\n    this.status = _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.PLAYER_STATUS.NOT_STARTED;\n    this.startTimer = args.startTimer;\n    this.shootingTimer = 0; // to delay shooting results\n    //shooting related\n\n    this.rangeNum = 0;\n    this.currentRange = [];\n    this.rifle = {};\n    this.shotCount = 0;\n    this.missNotification = false; //AI related\n\n    this.speedMod = 1;\n    this.aiBehaviour = args.aiBehaviour || _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.AI_BEHAVIOUR.NORMAL;\n    this.state = _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.AI_PLAYER_RUN_STATUS.NORMAL;\n  }\n\n  _createClass(Player, [{\n    key: \"_getRandomSpeed\",\n    value: function _getRandomSpeed() {\n      return this.gender === \"men\" ? _utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.Utils.rand(2600, 2200) / 100 : _utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.Utils.rand(2300, 1900) / 100;\n    }\n  }, {\n    key: \"getShortInfo\",\n    value: function getShortInfo() {\n      return {\n        name: this.name,\n        team: this.team,\n        number: this.number\n      };\n    }\n  }, {\n    key: \"getRaceStats\",\n    value: function getRaceStats() {\n      return {\n        number: this.number,\n        name: this.name,\n        team: this.team,\n        status: this.status,\n        distance: this.distance.toFixed(2),\n        speed: this.currentSpeed.toFixed(2),\n        stamina: this.fatigue.toFixed(2)\n      };\n    }\n  }, {\n    key: \"setSpeed\",\n    value: function setSpeed(speed) {\n      return this.currentSpeed = speed;\n    }\n  }, {\n    key: \"getCoords\",\n    value: function getCoords() {\n      return {\n        x: this.x,\n        y: this.y\n      };\n    }\n  }, {\n    key: \"getAccuracy\",\n    value: function getAccuracy() {\n      return this.accuracy;\n    }\n  }, {\n    key: \"getDistance\",\n    value: function getDistance() {\n      return this.distance;\n    }\n  }, {\n    key: \"getShootingRange\",\n    value: function getShootingRange() {\n      return this.currentRange;\n    }\n  }, {\n    key: \"getShootCount\",\n    value: function getShootCount() {\n      return this.shotCount;\n    }\n  }, {\n    key: \"addPenalty\",\n    value: function addPenalty(length) {\n      this.penalty += length;\n      return this.penalty;\n    }\n  }, {\n    key: \"addPenaltyTime\",\n    value: function addPenaltyTime(time) {\n      this.penaltyTime += time;\n    }\n  }, {\n    key: \"setMissedNotification\",\n    value: function setMissedNotification() {\n      this.missNotification = true;\n    }\n  }, {\n    key: \"dismissMissNotification\",\n    value: function dismissMissNotification() {\n      this.missNotification = false;\n    }\n  }, {\n    key: \"run\",\n    value: function run(elapsedTime) {\n      //move forward on track\n      var fps = elapsedTime;\n      var distancePassed = this.currentSpeed / 3600 * fps; // m/ms\n\n      this.distance += distancePassed;\n\n      if (this.shootingTimer > 0) {\n        this.shootingTimer -= elapsedTime;\n      }\n    }\n  }, {\n    key: \"runPenaltyLap\",\n    value: function runPenaltyLap(elapsedTime) {\n      var fps = elapsedTime;\n      var distancePassed = this.currentSpeed * 0.9 / 3600 * fps; // m/ms\n\n      this.penalty -= distancePassed;\n\n      if (this.shootingTimer > 0) {\n        this.shootingTimer -= elapsedTime;\n      }\n    }\n  }, {\n    key: \"enterShootingRange\",\n    value: function enterShootingRange(range) {\n      //enter range\n      if (!this.shooting) {\n        this.rangeNum = range;\n        this.currentRange = [0, 0, 0, 0, 0];\n        this.nextTarget = 0;\n        this.shotCount = 0; //load rifle\n\n        this.rifle = {\n          aimTime: 35000 // 35 - 45s\n\n        };\n      }\n    }\n  }, {\n    key: \"quitShootingRange\",\n    value: function quitShootingRange(penaltyLaps) {\n      this.status = penaltyLaps ? _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.PLAYER_STATUS.PENALTY : _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.PLAYER_STATUS.RUNNING;\n      this.rifle = {};\n      this.shootingTimer = _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.SHOOTING_DELAY;\n    }\n  }, {\n    key: \"shoot\",\n    value: function shoot(elapsedTime) {\n      this.rifle.aimTime -= elapsedTime;\n\n      if (this.rifle.aimTime > 0) {\n        return false;\n      } //uncomment after debugging\n\n\n      this.rifle.aimTime = this.shotCount < 5 ? _utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.Utils.rand(6, 3) * 600 : _utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.Utils.rand(12, 7) * 600; // this.rifle.aimTime = 3000;\t\t// 3 - 5s\n      //uncomment after debugging\n\n      var nextTarget = this.shotCount >= 5 ? this.currentRange.indexOf(0) : this.shotCount;\n\n      if (_utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.Utils.rand(100, 0) < this.accuracy) {\n        this.currentRange[nextTarget] = 1; // HIT\n      } else {\n        this.setMissedNotification();\n      } // this.currentRange = [1, 0, 0, 1, 1];\n\n\n      this.shotCount++;\n    } //REFACTOR!\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      this.currentSpeed = this.baseSpeed;\n      this.fatigue = 100;\n      this.distance = 0;\n      this.penalty = 0;\n      this.penaltyTime = 0;\n      this.rangeNum = 0;\n      this.rifle = {}; // this.state = CONSTANT.RUNSTATE.NORMAL;\n\n      this.status = _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.PLAYER_STATUS.NOT_STARTED;\n    } // CHECK LATER\n\n  }, {\n    key: \"recalculateStatus\",\n    value: function recalculateStatus() {\n      //FATIGUE\n      if (this.running) {\n        var newSpeed = this.baseSpeed * this.speedMod * Math.pow(this.fatigue / 100, 0.33);\n\n        switch (this.state) {\n          case CONSTANT.RUNSTATE.EASE:\n            this.fatigue = this.fatigue * (1 - 0.0001);\n            break;\n\n          case CONSTANT.RUNSTATE.NORMAL:\n            this.fatigue = this.fatigue * (1 - 0.0002);\n            break;\n\n          case CONSTANT.RUNSTATE.PUSHING:\n            this.fatigue = this.fatigue * (1 - 0.0004);\n            break;\n        }\n\n        this.setSpeed(newSpeed);\n      }\n\n      if (this.shooting) {\n        this.fatigue = this.fatigue * (1 + 0.0004);\n      }\n\n      if (debugProfiler[this.name]) {\n        debugProfiler[this.name].push([newSpeed, this.fatigue, this.currentSpeed]);\n      } else {\n        debugProfiler[this.name] = [newSpeed, this.fatigue];\n      }\n    } //AI\n\n  }, {\n    key: \"makeDecision\",\n    value: function makeDecision() {\n      var me = this,\n          newSpeed = me.baseSpeed,\n          dice = _utils_Utils_js__WEBPACK_IMPORTED_MODULE_1__.Utils.rand(100),\n          aggro = me.aiBehaviour[0],\n          norm = aggro + me.aiBehaviour[1],\n          choice; // var choise = Math.floor(Math.random() * Object.keys(CONSTANT.RUNSTATE).length);\n      //make ai decide\n\n      if (dice < aggro) {\n        choice = CONSTANT.RUNSTATE.PUSHING;\n        this.speedMod = 1 + (CONSTANT.BASE_SPEED_MOD + me.strength / 1000); // newSpeed = me.baseSpeed * (1 + (CONSTANT.BASE_SPEED_MOD + (me.strength / 1000)));\n      } else if (dice > norm) {\n        choice = CONSTANT.RUNSTATE.EASE;\n        this.speedMod = 1 - (CONSTANT.BASE_SPEED_MOD + (100 - me.strength) / 1000); // newSpeed = me.baseSpeed * (1 - (CONSTANT.BASE_SPEED_MOD + ((100 - me.strength) / 1000)));\n      } else {\n        choice = CONSTANT.RUNSTATE.NORMAL;\n      }\n\n      me.state = choice;\n    }\n  }], [{\n    key: \"create\",\n    value: function create(name, team, gender) {\n      return new Player({\n        name: name,\n        team: team,\n        gender: gender\n      });\n    }\n  }]);\n\n  return Player;\n}();\n\n//# sourceURL=webpack://bt2018/./js/model/player.js?");

/***/ }),

/***/ "./js/model/result.js":
/*!****************************!*\
  !*** ./js/model/result.js ***!
  \****************************/
/*! namespace exports */
/*! export Result [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Result\": () => /* binding */ Result\n/* harmony export */ });\n/* harmony import */ var _utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/Utils.js */ \"./js/utils/Utils.js\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n// MAJOR REFACTORING UNDERWAY 17.10.2018\n// V2. 21.10.2018 Refac part 2 done\n\nvar Result = /*#__PURE__*/function () {\n  function Result() {\n    _classCallCheck(this, Result);\n\n    this.data = []; // {name$, waypoint%, time!}\n\n    this.shootingData = {}; // { name$, number%, result[ARR] }\n\n    this.dataObject = {}; // this.relative = true;\n    // this.shootingObject = {};\n  } // pushResult(player, wp, t) {\n  //   var resObj = {\n  //     playerName: player.name,\n  //     number: player.number,\n  //     team: player.team,\n  //     waypoint: wp,\n  //     time: t\n  //   };\n  //   this.data.push(resObj);\n  // }\n  // RESULT STRUCTURE\n  // playerName, playerNumber, team, waypoint, time (timestamp)\n\n\n  _createClass(Result, [{\n    key: \"pushResult\",\n    value: function pushResult(resultData) {\n      var result = _objectSpread({}, resultData); // this.data.push(result);\n\n\n      if (!this.dataObject[result.waypoint]) {\n        this.dataObject[result.waypoint] = [];\n      }\n\n      result.shootingTotal = this.getShootingTotal(result.playerName);\n      result.timeString = _utils_Utils_js__WEBPACK_IMPORTED_MODULE_0__.Utils.convertToMinutes(result.time / 1000);\n      this.dataObject[result.waypoint].push(result);\n      this.dataObject[result.waypoint].sort(function (r1, r2) {\n        return r1.time > r2.time ? 1 : -1;\n      });\n    }\n  }, {\n    key: \"pushRelayResult\",\n    value: function pushRelayResult(wp, number, playerName, teamName, time, leg) {\n      var resObj = {\n        waypoint: wp,\n        playerName: playerName,\n        number: number,\n        leg: leg,\n        team: teamName,\n        time: time\n      };\n      this.data.push(resObj);\n    }\n  }, {\n    key: \"pushShootingResult\",\n    value: function pushShootingResult(resultData) {\n      var result = _objectSpread({}, resultData);\n\n      if (!this.shootingData[result.playerName]) {\n        this.shootingData[result.playerName] = [];\n      }\n\n      this.shootingData[result.playerName].push(result.result);\n    }\n  }, {\n    key: \"getShootingTotal\",\n    value: function getShootingTotal(playerName) {\n      if (!this.shootingData[playerName]) return 0;\n      return this.shootingData[playerName].reduce(function (acc, cur) {\n        return acc + cur;\n      }, 0);\n    } // pushShootingResultRelay(range, playerName, teamName, result, ammo) {\n    //   this.shootingData.push({\n    //     range: range,\n    //     name: playerName,\n    //     team: teamName,\n    //     result: result.filter((r) => r === 0).length,\n    //     ammo: ammo,\n    //   });\n    // }\n    // getShootingResult(name) {\n    //   var res = [];\n    //   for (var i = 0; i < this.shootingData.length; i++) {\n    //     if (this.shootingData[i].playerName === name) {\n    //       res.push(this.shootingData[i].result);\n    //     }\n    //   }\n    //   return res;\n    // }\n\n  }, {\n    key: \"getWaypointResults\",\n    value: function getWaypointResults(waypointId) {\n      var results = this.dataObject[waypointId] || [];\n      return results;\n    }\n  }, {\n    key: \"getPlayerResults\",\n    value: function getPlayerResults(name, waypointId) {\n      var result = this.getWaypointResults(waypointId).find(function (result) {\n        return result.playerName === name;\n      });\n      return result ? result.time : \"\";\n    } // getPlayerResultsRelative(name, waypointId) {\n    //   const result = this.getWaypointResults(waypointId);\n    //   const playerResult = result.find((result) => result.playerName === name);\n    //   const timeDiff = playerResult.time - result[0].time;\n    //   if (timeDiff === 0) {\n    //     return playerResult.time;\n    //   }\n    //   return timeDiff;\n    // }\n    // getPlayerPlace(name, waypointId) {\n    //   const result = this.getWaypointResults(waypointId).findIndex((result) => result.playerName === name) + 1;\n    //   return result;\n    // }\n\n  }, {\n    key: \"getRelayResults\",\n    value: function getRelayResults(waypoint) {\n      return this.data.filter(function (item) {\n        return item.waypoint === waypoint;\n      });\n    }\n  }]);\n\n  return Result;\n}();\n\n//# sourceURL=webpack://bt2018/./js/model/result.js?");

/***/ }),

/***/ "./js/model/track.js":
/*!***************************!*\
  !*** ./js/model/track.js ***!
  \***************************/
/*! namespace exports */
/*! export Track [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Track\": () => /* binding */ Track\n/* harmony export */ });\n/* harmony import */ var _view_Vector_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../view/Vector.js */ \"./js/view/Vector.js\");\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nvar httpClient = axios.create({\n  baseURL: \"http://localhost:3000\",\n  timeout: 2000\n});\nvar Track = /*#__PURE__*/function () {\n  function Track() {\n    var _this = this;\n\n    _classCallCheck(this, Track);\n\n    _defineProperty(this, \"getWaypointName\", function (waypointId) {\n      var distance = _this.waypoints[waypointId];\n\n      var trackLen = _this.getTrackLength();\n\n      switch (true) {\n        case distance === 0:\n          return \"Start\";\n\n        case distance === trackLen:\n          return \"Finish\";\n\n        case _this.shootingRange.indexOf(distance) > 0:\n          return \"S\".concat(_this.shootingRange.indexOf(distance));\n\n        default:\n          return \"\".concat((distance / 1000).toFixed(1), \"km\");\n      }\n    });\n\n    this.penaltyLapLength = 150;\n    this.lapLength = null;\n    this.baseLineX = 376;\n    this.baseLineY = 575;\n    this.coords = [];\n    this.flagsCoords = [];\n    this.waypoints = [];\n    this.penaltyLapCoords = [new _view_Vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector(376, 555), new _view_Vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector(356, 555), new _view_Vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector(346, 550), new _view_Vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector(348, 540), new _view_Vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector(346, 535), new _view_Vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector(356, 528), new _view_Vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector(376, 528), new _view_Vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector(386, 545), new _view_Vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector(376, 555)];\n  }\n\n  _createClass(Track, [{\n    key: \"loadMapData\",\n    value: function () {\n      var _loadMapData = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return httpClient.get(\"/map-coords\");\n\n              case 2:\n                response = _context.sent;\n                this.coords = response.data.map(function (coord) {\n                  return new _view_Vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector(coord[0], coord[1]);\n                });\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function loadMapData() {\n        return _loadMapData.apply(this, arguments);\n      }\n\n      return loadMapData;\n    }()\n  }, {\n    key: \"initTrack\",\n    value: function initTrack() {\n      this.coordsMap = this.initCoordsMap(this.coords);\n      this.pixelRatio = this.getPixelRatio(this.coordsMap, this.getLapLength()); // track length / pixels\n\n      this.penaltyCoordsMap = this.initCoordsMap(this.penaltyLapCoords);\n      this.penaltyPixelRatio = this.getPixelRatio(this.penaltyCoordsMap, this.penaltyLapLength);\n      this.finishLineLength = 250; // 2.5% meters\n\n      this.finishCoords = [new _view_Vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector(this.getFinishEntrance().x, this.baseLineY), new _view_Vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector(this.getFinishEntrance().x, this.baseLineY + 20), new _view_Vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector(this.baseLineX + 20, this.baseLineY + 20)];\n      this.finishCoordsMap = this.initCoordsMap(this.finishCoords, (this.lapLength - this.finishLineLength) / this.pixelRatio);\n      this.flagsCoords[0] = this.getCoordinates(this.waypoints[1]);\n      this.flagsCoords[1] = this.getCoordinates(this.waypoints[2]);\n    }\n  }, {\n    key: \"initCoordsMap\",\n    value: function initCoordsMap(coords, fromDistance) {\n      var totalLength = fromDistance || 0;\n      var res = coords.map(function (vec, i, arr) {\n        var lastElement = i === arr.length - 1;\n        var nextElement = lastElement ? arr[0] : arr[i + 1];\n        var l = vec.substract(nextElement).getLength();\n        var d = totalLength;\n        totalLength += l;\n        var direction = nextElement.substract(vec).normalize();\n        return {\n          coords: new _view_Vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector(vec.x, vec.y),\n          direction: direction,\n          d: d,\n          next: nextElement\n        };\n      });\n      return res;\n    }\n  }, {\n    key: \"getPixelRatio\",\n    value: function getPixelRatio(coordsArray, lapLength) {\n      var trackLengthPixels = coordsArray[coordsArray.length - 1].d;\n      return lapLength / trackLengthPixels;\n    }\n  }, {\n    key: \"getCoordinates\",\n    value: function getCoordinates(dist) {\n      var d = (dist - this.lapLength * (this.getLapNumber(dist) - 1)) / this.pixelRatio; //passed distance in px\n\n      var coords = dist < this.getTrackLength() - this.finishLineLength ? this.coordsMap : this.finishCoordsMap;\n\n      for (var i = 0; i < coords.length; i++) {\n        try {\n          if (d >= coords[i].d && d <= coords[i + 1].d) {\n            var actualDistance = d - coords[i].d;\n            return {\n              x: coords[i].coords.x + actualDistance * coords[i].direction.x,\n              //| 0,\n              y: coords[i].coords.y + actualDistance * coords[i].direction.y //| 0,\n\n            };\n          }\n        } catch (_unused) {\n          debugger;\n        }\n      }\n\n      console.log(\"invalid distance\", d);\n    }\n  }, {\n    key: \"getPenaltyCoordinates\",\n    value: function getPenaltyCoordinates(dist) {\n      var d = (150 * Math.ceil(dist / 150) - dist) / this.penaltyPixelRatio;\n      var coords = this.penaltyCoordsMap;\n\n      for (var i = 0; i < coords.length; i++) {\n        if (d >= coords[i].d && d <= coords[i + 1].d) {\n          var actualDistance = d - coords[i].d;\n          return {\n            x: coords[i].coords.x + actualDistance * coords[i].direction.x,\n            // | 0,\n            y: coords[i].coords.y + actualDistance * coords[i].direction.y // | 0,\n\n          };\n        }\n      }\n\n      console.log(\"invalid penalty distance\", d);\n    }\n  }, {\n    key: \"getFinishEntrance\",\n    value: function getFinishEntrance() {\n      // return X coord of finish entrance\n      // 2.5% of distance\n      var actualDistance = this.finishLineLength / this.pixelRatio;\n      var finishCoords = this.coordsMap[this.coordsMap.length - 1];\n      var preFinishCoords = this.coordsMap[this.coordsMap.length - 2];\n      return {\n        x: finishCoords.coords.x + actualDistance * -preFinishCoords.direction.x,\n        y: finishCoords.coords.y + actualDistance * -preFinishCoords.direction.y\n      };\n    }\n  }, {\n    key: \"getLapNumber\",\n    value: function getLapNumber(distance) {\n      return Math.floor(distance / this.lapLength) + 1;\n    }\n  }, {\n    key: \"getTrackLength\",\n    value: function getTrackLength() {\n      return this.waypoints[this.waypoints.length - 1];\n    }\n  }, {\n    key: \"getLapLength\",\n    value: function getLapLength() {\n      return this.lapLength;\n    }\n  }, {\n    key: \"getFinishWaypoint\",\n    value: function getFinishWaypoint() {\n      return this.waypoints.length - 1;\n    }\n  }, {\n    key: \"waypointsNum\",\n    value: function waypointsNum() {\n      return this.waypoints.length;\n    }\n  }, {\n    key: \"isWaypointPassed\",\n    value: function isWaypointPassed(newDist, prevDist) {\n      for (var i = 0; i < this.waypoints.length; i++) {\n        if (newDist >= this.waypoints[i] && prevDist < this.waypoints[i]) {\n          return i;\n        }\n      }\n\n      return false; //no wp passed\n    }\n  }, {\n    key: \"isShootingEntrancePassed\",\n    value: function isShootingEntrancePassed(newDist, prevDist) {\n      for (var i = 0; i < this.shootingRange.length; i++) {\n        if (newDist >= this.shootingRange[i] && prevDist < this.shootingRange[i]) {\n          return i;\n        }\n      }\n\n      return false;\n    }\n  }]);\n\n  return Track;\n}();\n\n//# sourceURL=webpack://bt2018/./js/model/track.js?");

/***/ }),

/***/ "./js/utils/Utils.js":
/*!***************************!*\
  !*** ./js/utils/Utils.js ***!
  \***************************/
/*! namespace exports */
/*! export Utils [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Utils\": () => /* binding */ Utils\n/* harmony export */ });\nvar Utils = function Utils() {\n  rand = function rand(max, min) {\n    min = min || 0;\n    max++;\n    return Math.floor(Math.random() * (max - min) + min);\n  };\n\n  convertToMinutes = function convertToMinutes(time) {\n    var hours = Math.floor(time / 3600);\n    var minutes = Math.floor(time / 60) - hours * 60;\n    var seconds = time - Math.floor(time / 60) * 60;\n    var forwardZero = seconds < 10 && (minutes > 0 || hours > 0) ? '0' : '';\n    var millis = seconds.toFixed(1).split('.')[1];\n    var timeStr = \"\"; //apply formatting\n\n    var secondsStr = forwardZero + Math.floor(seconds);\n    var minutesStr = hours > 0 ? minutes < 10 ? \"0\".concat(minutes, \":\") : \"\".concat(minutes, \":\") : minutes > 0 ? \"\".concat(minutes, \":\") : '';\n    var hoursStr = hours > 0 ? hours + ':' : '';\n    timeStr = hoursStr + minutesStr + secondsStr + '.' + millis;\n    return timeStr;\n  };\n};\n\n//# sourceURL=webpack://bt2018/./js/utils/Utils.js?");

/***/ }),

/***/ "./js/view/Graphic2D.js":
/*!******************************!*\
  !*** ./js/view/Graphic2D.js ***!
  \******************************/
/*! namespace exports */
/*! export Graphic2D [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Graphic2D\": () => /* binding */ Graphic2D\n/* harmony export */ });\n/* harmony import */ var _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants/constants.js */ \"./js/constants/constants.js\");\n/* harmony import */ var _data_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../data.js */ \"./js/data.js\");\n/* harmony import */ var _IntermediateResults_IntermediateResults_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./IntermediateResults/IntermediateResults.js */ \"./js/view/IntermediateResults/IntermediateResults.js\");\n/* harmony import */ var _PlayerControls_PlayerControls_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PlayerControls/PlayerControls.js */ \"./js/view/PlayerControls/PlayerControls.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\n\n\n\nvar canvas = document.querySelector(\"#main-canvas\");\nvar resultCanvas = document.querySelector(\"#result-canvas\");\nvar controlsCanvas = document.querySelector(\"#controls-canvas\");\nvar fpsDrops = 0;\nvar Graphic2D = /*#__PURE__*/function () {\n  function Graphic2D() {\n    _classCallCheck(this, Graphic2D);\n\n    this.img = new Image();\n    this.img.src = \"../../static/map.gif\";\n    this.flagImg = new Image();\n    this.flagImg.src = \"../../static/track_flag.png\";\n    this.resultContext = resultCanvas.getContext(\"2d\");\n    this.controlsCtx = controlsCanvas.getContext(\"2d\");\n    this.offscreenCanvas = document.createElement(\"canvas\");\n    this.offscreenCanvas.width = resultCanvas.width;\n    this.offscreenCanvas.height = resultCanvas.height;\n    this.offscreenContext = this.offscreenCanvas.getContext(\"2d\");\n    this.offscreenControlsCanvas = document.createElement(\"canvas\");\n    this.offscreenControlsCanvas.width = controlsCanvas.width;\n    this.offscreenControlsCanvas.height = controlsCanvas.height;\n    this.offscreenControlsContext = this.offscreenControlsCanvas.getContext(\"2d\");\n    this.intermediateResults = new _IntermediateResults_IntermediateResults_js__WEBPACK_IMPORTED_MODULE_2__.IntermediateResults();\n    this.playerControls = new _PlayerControls_PlayerControls_js__WEBPACK_IMPORTED_MODULE_3__.PlayerControls();\n  }\n\n  _createClass(Graphic2D, [{\n    key: \"finalFPSDrops\",\n    value: function finalFPSDrops() {\n      console.log(\"FPS drops:\" + fpsDrops);\n    }\n  }, {\n    key: \"drawGameTick\",\n    value: function drawGameTick(tick) {\n      var ctx = canvas.getContext(\"2d\");\n      ctx.textAlign = \"left\";\n      ctx.fillStyle = \"#000000\";\n\n      if (1000 / tick < 60) {\n        fpsDrops++;\n      }\n\n      ctx.fillText(\"FPS: \" + (1000 / tick).toFixed(0), 10, 10);\n    }\n  }, {\n    key: \"drawCoordinatesMap\",\n    value: function drawCoordinatesMap(coordsMap, color) {\n      var ctx = canvas.getContext(\"2d\");\n      ctx.beginPath();\n      ctx.moveTo(coordsMap[0].coords.x, coordsMap[0].coords.y);\n\n      for (var i = 1; i < coordsMap.length; i++) {\n        ctx.lineTo(coordsMap[i].coords.x, coordsMap[i].coords.y);\n      }\n\n      ctx.strokeStyle = color;\n      ctx.stroke();\n    }\n  }, {\n    key: \"drawMapBeta\",\n    value: function drawMapBeta(track) {\n      var _this = this;\n\n      var coordsMap = track.coordsMap,\n          penaltyCoordsMap = track.penaltyCoordsMap,\n          finishCoordsMap = track.finishCoordsMap,\n          flagsCoords = track.flagsCoords;\n      var ctx = canvas.getContext(\"2d\");\n      var img = this.img;\n      ctx.clearRect(0, 0, canvas.width, canvas.height); // ctx.drawImage(img, 10, 10, canvas.width - 20, canvas.height - 20);\n\n      this.drawCoordinatesMap(coordsMap, \"#ffdd00\");\n      this.drawCoordinatesMap(penaltyCoordsMap, \"green\");\n      this.drawCoordinatesMap(finishCoordsMap, \"red\"); //draw waypoint flags\n\n      flagsCoords.forEach(function (flag) {\n        ctx.drawImage(_this.flagImg, flag.x, flag.y - _this.flagImg.height);\n      }); //start / finish line\n      // ctx.beginPath();\n      // ctx.strokeStyle = \"#000000\";\n      // ctx.fillStyle = \"#000000\";\n      // ctx.lineWidth = 1;\n      // ctx.strokeRect(202.5, 204.5, 6, 12);\n      // ctx.fillRect(202.5, 204, 3, 3);\n      // ctx.fillRect(205.5, 207, 3, 3);\n      // ctx.fillRect(202.5, 210, 3, 3);\n      // ctx.fillRect(205.5, 213, 3, 3);\n      // ctx.beginPath();\n      // ctx.strokeStyle = \"#000000\";\n      // ctx.fillStyle = \"#000000\";\n      // ctx.lineWidth = 1;\n      // ctx.strokeRect(222.5, 224.5, 6, 12);\n      // ctx.fillRect(222.5, 224, 3, 3);\n      // ctx.fillRect(225.5, 227, 3, 3);\n      // ctx.fillRect(222.5, 230, 3, 3);\n      // ctx.fillRect(225.5, 233, 3, 3);\n    }\n  }, {\n    key: \"drawPlayersBeta\",\n    value: function drawPlayersBeta(playersData) {\n      var ctx = canvas.getContext(\"2d\");\n      var shootingNum = 0;\n\n      for (var i = 0; i < playersData.length; i++) {\n        if (playersData[i].coords) {\n          try {\n            var _playersData$i$coords = playersData[i].coords,\n                x = _playersData$i$coords.x,\n                y = _playersData$i$coords.y;\n            var _playersData$i = playersData[i],\n                team = _playersData$i.team,\n                number = _playersData$i.number;\n            this.drawPlayerBub(ctx, number, team, x, y, 9); //render shooting range\n\n            ctx.beginPath();\n\n            if (playersData[i].status === _constants_constants_js__WEBPACK_IMPORTED_MODULE_0__.PLAYER_STATUS.SHOOTING || playersData[i].rangeTimer) {\n              var fontHeight = 14;\n              ctx.fillStyle = playersData[i].rangeTimer ? \"#000099\" : \"#0033cc\";\n              ctx.strokeStyle = \"#999999\";\n              ctx.strokeWidth = \"1px\";\n              ctx.fillRect(720, 20 * shootingNum, 80, 18);\n              ctx.strokeRect(640, 20 * shootingNum, 80, 18);\n              ctx.fillStyle = \"#ffffff\";\n              ctx.textAlign = \"left\";\n              ctx.font = \"14px Open Sans\";\n              ctx.fillText(playersData[i].name, 723, 20 * shootingNum + 14);\n\n              for (var target = 0; target < 5; target++) {\n                ctx.beginPath();\n                ctx.fillStyle = \"#000000\";\n                ctx.strokeStyle = \"#000000\";\n                ctx.arc(653 + 13 * target, 20 * shootingNum + 10, 5, 0, 360);\n\n                if (playersData[i].range[target]) {\n                  ctx.stroke();\n                } else {\n                  ctx.fill();\n                }\n              }\n\n              shootingNum++;\n            }\n          } catch (_unused) {\n            debugger;\n          }\n        }\n      }\n    }\n  }, {\n    key: \"drawIntermediateResults\",\n    value: function drawIntermediateResults(resultsData, offset) {\n      var ctx = this.offscreenContext;\n      var mainCtx = this.resultContext;\n\n      if (this.intermediateResults.compareResults(resultsData)) {\n        return;\n      }\n\n      this.intermediateResults.draw(ctx, resultsData);\n      mainCtx.clearRect(0, 0, resultCanvas.width, resultCanvas.height);\n      mainCtx.drawImage(this.offscreenCanvas, 0, 0);\n    }\n  }, {\n    key: \"drawPlayerBub\",\n    value: function drawPlayerBub(ctx, number, team, x, y, size) {\n      var colors = _data_js__WEBPACK_IMPORTED_MODULE_1__.teamData.find(function (t) {\n        return t.shortName === team;\n      }).colors;\n      ctx.beginPath();\n      ctx.arc(x, y, size, 0, Math.PI * 2);\n      ctx.fillStyle = colors[0];\n      ctx.strokeStyle = \"#000000\";\n      ctx.fill();\n      ctx.stroke(); //render text\n\n      ctx.strokeWidth = \"2px\";\n      ctx.fillStyle = colors[1];\n      ctx.font = \"bold 10px Verdana\";\n      ctx.textAlign = \"center\";\n\n      if (number <= 9) {\n        ctx.fillText(number, x, y + 3.25);\n      } else if (number > 9 && number < 99) {\n        ctx.fillText(number, x, y + 3.25);\n      } else if (number >= 99) {\n        ctx.font = \"8px Verdana\";\n        ctx.fillText(number, x, y + 3.25);\n      }\n    }\n  }, {\n    key: \"drawPlayerControls\",\n    value: function drawPlayerControls(players) {\n      var offscreenCtx = this.offscreenControlsContext;\n      var ctx = this.controlsCtx;\n\n      if (this.playerControls.compareControls(players)) {\n        return;\n      }\n\n      this.playerControls.draw(offscreenCtx, players);\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n      ctx.drawImage(this.offscreenControlsCanvas, 0, 0);\n    }\n  }]);\n\n  return Graphic2D;\n}();\n\n//# sourceURL=webpack://bt2018/./js/view/Graphic2D.js?");

/***/ }),

/***/ "./js/view/IntermediateResults/IntermediateResults.js":
/*!************************************************************!*\
  !*** ./js/view/IntermediateResults/IntermediateResults.js ***!
  \************************************************************/
/*! namespace exports */
/*! export IntermediateResults [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"IntermediateResults\": () => /* binding */ IntermediateResults\n/* harmony export */ });\n/* harmony import */ var _PlayerBub_PlayerBub_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PlayerBub/PlayerBub.js */ \"./js/view/PlayerBub/PlayerBub.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar IntermediateResults = /*#__PURE__*/function () {\n  function IntermediateResults() {\n    _classCallCheck(this, IntermediateResults);\n\n    this.prevResults = [];\n  }\n\n  _createClass(IntermediateResults, [{\n    key: \"compareResults\",\n    value: function compareResults(newResults) {\n      // true if results are equal\n      if (this.prevResults.length !== newResults.length) {\n        this.prevResults = newResults;\n        return false;\n      }\n\n      for (var i = 0; i < newResults.length; i++) {\n        if (this.prevResults[i].playerName !== newResults[i].playerName) {\n          this.prevResults = newResults;\n          return false;\n        }\n      }\n\n      this.prevResults = newResults;\n      return true;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx, resultsData) {\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n      for (var i = 0; i < resultsData.length; i++) {\n        this.drawIntermediateResultItem(ctx, i, resultsData[i]);\n      }\n    }\n  }, {\n    key: \"drawIntermediateResultItem\",\n    value: function drawIntermediateResultItem(ctx, index, result) {\n      var x = Math.floor(index / 5) * 200;\n      var y = index % 5 * 22;\n      ctx.beginPath();\n      ctx.fillStyle = \"#fff017\";\n      ctx.fillRect(x, y, 20, 20);\n      ctx.fillStyle = \"black\";\n      ctx.font = \"bold 12px Open Sans\";\n      ctx.textAlign = \"center\";\n      ctx.fillText(result.place, x + 10, y + 16);\n      _PlayerBub_PlayerBub_js__WEBPACK_IMPORTED_MODULE_0__.PlayerBub.draw(ctx, result.playerNumber, result.team, x + 32, y + 10);\n      ctx.font = \"14px Open Sans\";\n      ctx.fillStyle = \"black\";\n      ctx.textAlign = \"left\";\n      ctx.fillText(result.playerName, x + 44, y + 16);\n      ctx.textAlign = \"right\";\n      ctx.fillText(result.timeString, x + 180, y + 16);\n    }\n  }]);\n\n  return IntermediateResults;\n}();\n\n//# sourceURL=webpack://bt2018/./js/view/IntermediateResults/IntermediateResults.js?");

/***/ }),

/***/ "./js/view/PlayerBub/PlayerBub.js":
/*!****************************************!*\
  !*** ./js/view/PlayerBub/PlayerBub.js ***!
  \****************************************/
/*! namespace exports */
/*! export PlayerBub [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PlayerBub\": () => /* binding */ PlayerBub\n/* harmony export */ });\n/* harmony import */ var _data_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data.js */ \"./js/data.js\");\n\nvar PlayerBub = {\n  draw: function draw(ctx, number, team, x, y) {\n    var size = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 8;\n    var colors = _data_js__WEBPACK_IMPORTED_MODULE_0__.teamData.find(function (t) {\n      return t.shortName === team;\n    }).colors;\n    ctx.beginPath();\n    ctx.arc(x, y, size, 0, Math.PI * 2);\n    ctx.fillStyle = colors[0];\n    ctx.strokeStyle = \"#000000\";\n    ctx.fill();\n    ctx.stroke(); //render text\n\n    ctx.strokeWidth = \"2px\";\n    ctx.fillStyle = colors[1];\n    ctx.font = \"bold 10px Verdana\";\n    ctx.textAlign = \"center\";\n\n    if (number <= 9) {\n      ctx.fillText(number, x, y + 3.25);\n    } else if (number > 9 && number < 99) {\n      ctx.fillText(number, x, y + 3.25);\n    } else if (number >= 99) {\n      ctx.font = \"8px Verdana\";\n      ctx.fillText(number, x, y + 3.25);\n    }\n\n    ctx.closePath();\n  }\n};\n\n//# sourceURL=webpack://bt2018/./js/view/PlayerBub/PlayerBub.js?");

/***/ }),

/***/ "./js/view/PlayerControls/PlayerControls.js":
/*!**************************************************!*\
  !*** ./js/view/PlayerControls/PlayerControls.js ***!
  \**************************************************/
/*! namespace exports */
/*! export PlayerControls [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__, __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PlayerControls\": () => /* binding */ PlayerControls\n/* harmony export */ });\n/* harmony import */ var _PlayerBub_PlayerBub_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PlayerBub/PlayerBub.js */ \"./js/view/PlayerBub/PlayerBub.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\n\nvar PlayerControls = /*#__PURE__*/function () {\n  function PlayerControls() {\n    _classCallCheck(this, PlayerControls);\n\n    this.data = [];\n  }\n\n  _createClass(PlayerControls, [{\n    key: \"compareControls\",\n    value: function compareControls(newData) {\n      if (!this.data.length) {\n        this.data = newData;\n        return false;\n      }\n\n      for (var i = 0; i < newData.length; i++) {\n        if (newData[i].place !== this.data[i].place || newData[i].lastWaypoint !== this.data[i].lastWaypoint || newData[i].time !== this.data[i].time) {\n          this.data = newData;\n          return false;\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(ctx, players) {\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n      for (var i = 0; i < players.length; i++) {\n        this.drawPlayerControlItem(ctx, players[i], 10, i * 65 + 10);\n      }\n    }\n  }, {\n    key: \"drawPlayerControlItem\",\n    value: function drawPlayerControlItem(ctx, data, x, y) {\n      _PlayerBub_PlayerBub_js__WEBPACK_IMPORTED_MODULE_0__.PlayerBub.draw(ctx, data.number, data.team, x + 16, y + 14);\n      ctx.beginPath();\n      ctx.strokeStyle = \"#cccccc\";\n      ctx.strokeWidth = \"1px\";\n      ctx.strokeRect(x, y, ctx.canvas.width - 20, 60);\n      ctx.font = \"14px Open sans\";\n      ctx.fillStyle = \"black\";\n      ctx.textAlign = \"left\";\n      ctx.fillText(data.name, x + 30, y + 18);\n      ctx.textAlign = \"right\";\n      ctx.fillText(data.lastWaypoint, 180, y + 18);\n      ctx.fillText(data.time, 280, y + 18);\n      ctx.closePath();\n      ctx.beginPath();\n      ctx.fillStyle = \"#fff017\";\n      ctx.fillRect(200, y + 4, 20, 20);\n      ctx.textAlign = \"center\";\n      ctx.font = \"bold 14px Open sans\";\n      ctx.fillStyle = \"#000000\";\n      ctx.fillText(data.place, 210, y + 18);\n      ctx.closePath();\n    }\n  }]);\n\n  return PlayerControls;\n}();\n\n//# sourceURL=webpack://bt2018/./js/view/PlayerControls/PlayerControls.js?");

/***/ }),

/***/ "./js/view/Vector.js":
/*!***************************!*\
  !*** ./js/view/Vector.js ***!
  \***************************/
/*! namespace exports */
/*! export Vector [provided] [no usage info] [missing usage info prevents renaming] */
/*! other exports [not provided] [no usage info] */
/*! runtime requirements: __webpack_require__.r, __webpack_exports__, __webpack_require__.d, __webpack_require__.* */
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Vector\": () => /* binding */ Vector\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Vector = /*#__PURE__*/function () {\n  function Vector(x, y) {\n    _classCallCheck(this, Vector);\n\n    this.x = x;\n    this.y = y;\n  }\n\n  _createClass(Vector, [{\n    key: \"get\",\n    value: function get() {\n      return {\n        x: this.x,\n        y: this.y\n      };\n    }\n  }, {\n    key: \"add\",\n    value: function add(vec2) {\n      return new Vector(this.x + vec2.x, this.y + vec2.y);\n    }\n  }, {\n    key: \"addTo\",\n    value: function addTo(vec2) {\n      this.x += vec2.x;\n      thix.y += vec2.y;\n    }\n  }, {\n    key: \"substract\",\n    value: function substract(vec2) {\n      return new Vector(this.x - vec2.x, this.y - vec2.y);\n    }\n  }, {\n    key: \"substractFrom\",\n    value: function substractFrom(vec2) {\n      this.x -= vec2.x;\n      this.y -= vec2.y;\n    }\n  }, {\n    key: \"normalize\",\n    value: function normalize() {\n      var vectorLength = Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2));\n      return new Vector(this.x / vectorLength, this.y / vectorLength);\n    }\n  }, {\n    key: \"getLength\",\n    value: function getLength() {\n      return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2));\n    }\n  }]);\n\n  return Vector;\n}();\n\n//# sourceURL=webpack://bt2018/./js/view/Vector.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		if(__webpack_module_cache__[moduleId]) {
/******/ 			return __webpack_module_cache__[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	// startup
/******/ 	// Load entry module
/******/ 	__webpack_require__("./js/index.js");
/******/ 	// This entry module used 'exports' so it can't be inlined
/******/ })()
;